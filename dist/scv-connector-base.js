/*! For license information please see scv-connector-base.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("SCVConnectorBase",[],t):"object"==typeof exports?exports.SCVConnectorBase=t():e.SCVConnectorBase=t()}(this,(()=>(()=>{var e={633:(e,t,E)=>{var a=E(738).default;function n(){"use strict";e.exports=n=function(){return E},e.exports.__esModule=!0,e.exports.default=e.exports;var t,E={},r=Object.prototype,_=r.hasOwnProperty,T=Object.defineProperty||function(e,t,E){e[t]=E.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",A=i.toStringTag||"@@toStringTag";function l(e,t,E){return Object.defineProperty(e,t,{value:E,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(t){l=function(e,t,E){return e[t]=E}}function N(e,t,E,a){var n=t&&t.prototype instanceof u?t:u,r=Object.create(n.prototype),_=new U(a||[]);return T(r,"_invoke",{value:f(e,E,_)}),r}function C(e,t,E){try{return{type:"normal",arg:e.call(t,E)}}catch(e){return{type:"throw",arg:e}}}E.wrap=N;var O="suspendedStart",c="suspendedYield",R="executing",S="completed",I={};function u(){}function P(){}function d(){}var L={};l(L,o,(function(){return this}));var p=Object.getPrototypeOf,D=p&&p(p(g([])));D&&D!==r&&_.call(D,o)&&(L=D);var h=d.prototype=u.prototype=Object.create(L);function V(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){function E(n,r,T,i){var o=C(e[n],e,r);if("throw"!==o.type){var s=o.arg,A=s.value;return A&&"object"==a(A)&&_.call(A,"__await")?t.resolve(A.__await).then((function(e){E("next",e,T,i)}),(function(e){E("throw",e,T,i)})):t.resolve(A).then((function(e){s.value=e,T(s)}),(function(e){return E("throw",e,T,i)}))}i(o.arg)}var n;T(this,"_invoke",{value:function(e,a){function r(){return new t((function(t,n){E(e,a,t,n)}))}return n=n?n.then(r,r):r()}})}function f(e,E,a){var n=O;return function(r,_){if(n===R)throw Error("Generator is already running");if(n===S){if("throw"===r)throw _;return{value:t,done:!0}}for(a.method=r,a.arg=_;;){var T=a.delegate;if(T){var i=G(T,a);if(i){if(i===I)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===O)throw n=S,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=R;var o=C(e,E,a);if("normal"===o.type){if(n=a.done?S:c,o.arg===I)continue;return{value:o.arg,done:a.done}}"throw"===o.type&&(n=S,a.method="throw",a.arg=o.arg)}}}function G(e,E){var a=E.method,n=e.iterator[a];if(n===t)return E.delegate=null,"throw"===a&&e.iterator.return&&(E.method="return",E.arg=t,G(e,E),"throw"===E.method)||"return"!==a&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+a+"' method")),I;var r=C(n,e.iterator,E.arg);if("throw"===r.type)return E.method="throw",E.arg=r.arg,E.delegate=null,I;var _=r.arg;return _?_.done?(E[e.resultName]=_.value,E.next=e.nextLoc,"return"!==E.method&&(E.method="next",E.arg=t),E.delegate=null,I):_:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,I)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function Y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function g(e){if(e||""===e){var E=e[o];if(E)return E.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function E(){for(;++n<e.length;)if(_.call(e,n))return E.value=e[n],E.done=!1,E;return E.value=t,E.done=!0,E};return r.next=r}}throw new TypeError(a(e)+" is not iterable")}return P.prototype=d,T(h,"constructor",{value:d,configurable:!0}),T(d,"constructor",{value:P,configurable:!0}),P.displayName=l(d,A,"GeneratorFunction"),E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===P||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,A,"GeneratorFunction")),e.prototype=Object.create(h),e},E.awrap=function(e){return{__await:e}},V(v.prototype),l(v.prototype,s,(function(){return this})),E.AsyncIterator=v,E.async=function(e,t,a,n,r){void 0===r&&(r=Promise);var _=new v(N(e,t,a,n),r);return E.isGeneratorFunction(t)?_:_.next().then((function(e){return e.done?e.value:_.next()}))},V(h),l(h,A,"Generator"),l(h,o,(function(){return this})),l(h,"toString",(function(){return"[object Generator]"})),E.keys=function(e){var t=Object(e),E=[];for(var a in t)E.push(a);return E.reverse(),function e(){for(;E.length;){var a=E.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},E.values=g,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(Y),!e)for(var E in this)"t"===E.charAt(0)&&_.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var E=this;function a(a,n){return T.type="throw",T.arg=e,E.next=a,n&&(E.method="next",E.arg=t),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],T=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var i=_.call(r,"catchLoc"),o=_.call(r,"finallyLoc");if(i&&o){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(i){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!o)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,t){for(var E=this.tryEntries.length-1;E>=0;--E){var a=this.tryEntries[E];if(a.tryLoc<=this.prev&&_.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var r=n?n.completion:{};return r.type=e,r.arg=t,n?(this.method="next",this.next=n.finallyLoc,I):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),I},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var E=this.tryEntries[t];if(E.finallyLoc===e)return this.complete(E.completion,E.afterLoc),Y(E),I}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var E=this.tryEntries[t];if(E.tryLoc===e){var a=E.completion;if("throw"===a.type){var n=a.arg;Y(E)}return n}}throw Error("illegal catch attempt")},delegateYield:function(e,E,a){return this.delegate={iterator:g(e),resultName:E,nextLoc:a},"next"===this.method&&(this.arg=t),I}},E}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(E){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(E)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,E)=>{var a=E(633)();e.exports=a;try{regeneratorRuntime=a}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}}},t={};function E(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,E),r.exports}E.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return E.d(t,{a:t}),t},E.d=(e,t)=>{for(var a in t)E.o(t,a)&&!E.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},E.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),E.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var E=function(t){if("object"!=e(t)||!t)return t;var E=t[Symbol.toPrimitive];if(void 0!==E){var a=E.call(t,"string");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(E)?E:E+""}function n(e,E,a){return(E=t(E))in e?Object.defineProperty(e,E,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[E]=a,e}function r(e,t,E,a,n,r,_){try{var T=e[r](_),i=T.value}catch(e){return void E(e)}T.done?t(i):Promise.resolve(i).then(a,n)}function _(e){return function(){var t=this,E=arguments;return new Promise((function(a,n){var _=e.apply(t,E);function T(e){r(_,a,n,T,i,"next",e)}function i(e){r(_,a,n,T,i,"throw",e)}T(void 0)}))}}E.r(a),E.d(a,{ACWInfo:()=>De,ActiveCallsResult:()=>B,AgentConfig:()=>K,AgentConfigResult:()=>W,AgentStatusInfo:()=>Ce,AgentVendorStatusInfo:()=>Oe,AgentWork:()=>Ne,AudioDevicesResult:()=>x,AudioStats:()=>Se,AudioStatsElement:()=>Ie,CallInfo:()=>_e,CallResult:()=>$,Constants:()=>m,Contact:()=>Te,ContactsFilter:()=>pe,ContactsResult:()=>X,CustomError:()=>H,DialOptions:()=>Ee,GenericResult:()=>ae,HangupResult:()=>z,HidDevice:()=>k,HoldToggleResult:()=>Z,InitResult:()=>te,LogoutResult:()=>re,MuteToggleResult:()=>w,ParticipantResult:()=>Q,Phone:()=>M,PhoneCall:()=>oe,PhoneCallAttributes:()=>ie,PhoneContactsResult:()=>J,RecordingToggleResult:()=>q,SetAgentConfigResult:()=>ne,SharedCapabilitiesResult:()=>F,ShowStorageAccessResult:()=>Le,SignedRecordingUrlResult:()=>ee,StateChangeResult:()=>ce,StatsInfo:()=>ue,SuperviseCallResult:()=>Pe,SupervisedCallInfo:()=>Re,SupervisorHangupResult:()=>de,TelephonyConnector:()=>se,VendorConnector:()=>Ae,VoiceCapabilitiesResult:()=>j,initializeConnector:()=>Ke,log:()=>D,publishError:()=>Qe,publishEvent:()=>Xe,publishLog:()=>qe});var T=E(756),i=E.n(T);const o={SHARED_MESSAGE_TYPE:{SETUP_CONNECTOR:"SETUP_CONNECTOR",CONNECTOR_READY:"CONNECTOR_READY",LOG:"LOG",TELEPHONY_EVENT_DISPATCHED:"TELEPHONY_EVENT_DISPATCHED",SET_AGENT_STATUS:"SET_AGENT_STATUS",GET_AGENT_STATUS:"GET_AGENT_STATUS",LOGOUT:"LOGOUT",MESSAGE:"MESSAGE",DOWNLOAD_VENDOR_LOGS:"DOWNLOAD_VENDOR_LOGS",AGENT_WORK_EVENT:"AGENT_WORK_EVENT",GET_CONTACTS:"GET_CONTACTS"},VOICE_MESSAGE_TYPE:{ACCEPT_CALL:"ACCEPT_CALL",DECLINE_CALL:"DECLINE_CALL",END_CALL:"END_CALL",MUTE:"MUTE",UNMUTE:"UNMUTE",HOLD:"HOLD",RESUME:"RESUME",DIAL:"DIAL",SEND_DIGITS:"SEND_DIGITS",GET_PHONE_CONTACTS:"GET_PHONE_CONTACTS",SWAP_PARTICIPANTS:"SWAP_PARTICIPANTS",ADD_PARTICIPANT:"ADD_PARTICIPANT",CONFERENCE:"CONFERENCE",PAUSE_RECORDING:"PAUSE_RECORDING",RESUME_RECORDING:"RESUME_RECORDING",SUPERVISE_CALL:"SUPERVISE_CALL",SUPERVISOR_BARGE_IN:"SUPERVISOR_BARGE_IN",SUPERVISOR_DISCONNECT:"SUPERVISOR_DISCONNECT",SET_AGENT_CONFIG:"SET_AGENT_CONFIG",GET_SIGNED_RECORDING_URL:"GET_SIGNED_RECORDING_URL",WRAP_UP_CALL:"WRAP_UP_CALL",AGENT_AVAILABLE:"AGENT_AVAILABLE",GET_AUDIO_DEVICES:"GET_AUDIO_DEVICES"},SHARED_EVENT_TYPE:{ERROR:"ERROR",WARNING:"WARNING",INFO:"INFO",LOGIN_STARTED:"LOGIN_STARTED",LOGIN_RESULT:"LOGIN_RESULT",LOGOUT_RESULT:"LOGOUT_RESULT",SHOW_LOGIN:"SHOW_LOGIN",SET_AGENT_STATUS_RESULT:"SET_AGENT_STATUS_RESULT",GET_AGENT_STATUS_RESULT:"GET_AGENT_STATUS_RESULT",MESSAGE:"MESSAGE",SET_AGENT_STATUS:"SET_AGENT_STATUS",GET_AGENT_STATUS:"GET_AGENT_STATUS",STATE_CHANGE:"STATE_CHANGE",REMOTE_CONTROLLER:"REMOTE_CONTROLLER",SHOW_STORAGE_ACCESS:"SHOW_STORAGE_ACCESS",STORAGE_ACCESS_RESULT:"STORAGE_ACCESS_RESULT",GET_CONTACTS_RESULT:"GET_CONTACTS_RESULT",AFTER_CONVERSATION_WORK_STARTED:"AFTER_CONVERSATION_WORK_STARTED",AFTER_CONVERSATION_WORK_ENDED:"AFTER_CONVERSATION_WORK_ENDED"},VOICE_EVENT_TYPE:{QUEUED_CALL_STARTED:"QUEUED_CALL_STARTED",CALL_STARTED:"CALL_STARTED",CALL_CONNECTED:"CALL_CONNECTED",CALL_FAILED:"CALL_FAILED",MUTE_TOGGLE:"MUTE_TOGGLE",HOLD_TOGGLE:"HOLD_TOGGLE",PHONE_CONTACTS:"PHONE_CONTACTS",PARTICIPANT_ADDED:"PARTICIPANT_ADDED",PARTICIPANT_CONNECTED:"PARTICIPANT_CONNECTED",PARTICIPANT_REMOVED:"PARTICIPANT_REMOVED",RECORDING_TOGGLE:"RECORDING_TOGGLE",PARTICIPANTS_SWAPPED:"PARTICIPANTS_SWAPPED",PARTICIPANTS_CONFERENCED:"PARTICIPANTS_CONFERENCED",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL",UPDATE_AUDIO_STATS:"UPDATE_AUDIO_STATS",UPDATE_AUDIO_STATS_COMPLETED:"UPDATE_AUDIO_STATS_COMPLETED",SUPERVISOR_BARGED_IN:"SUPERVISOR_BARGED_IN",SUPERVISOR_CALL_STARTED:"SUPERVISOR_CALL_STARTED",SUPERVISOR_CALL_CONNECTED:"SUPERVISOR_CALL_CONNECTED",SUPERVISOR_HANGUP:"SUPERVISOR_HANGUP",CALL_BARGED_IN:"CALL_BARGED_IN",WRAP_UP_ENDED:"WRAP_UP_ENDED",AFTER_CALL_WORK_STARTED:"AFTER_CALL_WORK_STARTED",AGENT_CONFIG_UPDATED:"AGENT_CONFIG_UPDATED",AGENT_ERROR:"AGENT_ERROR",HANGUP:"HANGUP",SOFTPHONE_ERROR:"SOFTPHONE_ERROR",SHOW_TRANSFER_VIEW:"SHOW_TRANSFER_VIEW",GET_AUDIO_DEVICES:"GET_AUDIO_DEVICES",AUDIO_STATS:"AUDIO_STATS",CALL_UPDATED:"CALL_UPDATED"},INFO_TYPE:{CAN_NOT_ACCEPT_THE_CALL:"CAN_NOT_ACCEPT_THE_CALL"},SHARED_ERROR_TYPE:{CUSTOM_ERROR:"CUSTOM_ERROR",GENERIC_ERROR:"GENERIC_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",INVALID_AGENT_STATUS:"INVALID_AGENT_STATUS",CAN_NOT_GET_AGENT_STATUS:"CAN_NOT_GET_AGENT_STATUS",CAN_NOT_SET_AGENT_STATUS:"CAN_NOT_SET_AGENT_STATUS",LOGIN_REQUIRED:"LOGIN_REQUIRED",CAN_NOT_LOG_IN:"CAN_NOT_LOG_IN",CAN_NOT_LOG_OUT:"CAN_NOT_LOG_OUT",INVALID_STATE_CHANGE_RESULT:"INVALID_STATE_CHANGE_RESULT",INVALID_STORAGE_ACCESS_RESULT:"INVALID_STORAGE_ACCESS_RESULT",INVALID_ACW_INFO:"INVALID_ACW_INFO"},VOICE_ERROR_TYPE:{CAN_NOT_DECLINE_THE_CALL:"CAN_NOT_DECLINE_THE_CALL",CAN_NOT_END_THE_CALL:"CAN_NOT_END_THE_CALL",CAN_NOT_HOLD_CALL:"CAN_NOT_HOLD_CALL",CAN_NOT_RESUME_CALL:"CAN_NOT_RESUME_CALL",CAN_NOT_MUTE_CALL:"CAN_NOT_MUTE_CALL",CAN_NOT_UNMUTE_CALL:"CAN_NOT_UNMUTE_CALL",CAN_NOT_TOGGLE_MUTE:"CAN_NOT_TOGGLE_MUTE",CAN_NOT_TOGGLE_HOLD:"CAN_NOT_TOGGLE_HOLD",CAN_NOT_TOGGLE_RECORD:"CAN_NOT_TOGGLE_RECORD",INVALID_PARTICIPANT:"INVALID_PARTICIPANT",INVALID_PARAMS:"INVALID_PARAMS",CAN_NOT_GET_PHONE_CONTACTS:"CAN_NOT_GET_PHONE_CONTACTS",CAN_NOT_SWAP_PARTICIPANTS:"CAN_NOT_SWAP_PARTICIPANTS",CAN_NOT_CONFERENCE:"CAN_NOT_CONFERENCE",INVALID_DESTINATION:"INVALID_DESTINATION",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",CAN_NOT_HANGUP_PARTICIPANT:"CAN_NOT_HANGUP_PARTICIPANT",CAN_NOT_ADD_PARTICIPANT:"CAN_NOT_ADD_PARTICIPANT",CAN_NOT_CONNECT_PARTICIPANT:"CAN_NOT_CONNECT_PARTICIPANT",CAN_NOT_START_THE_CALL:"CAN_NOT_START_THE_CALL",CAN_NOT_PAUSE_RECORDING:"CAN_NOT_PAUSE_RECORDING",CAN_NOT_RESUME_RECORDING:"CAN_NOT_RESUME_RECORDING",CAN_NOT_SET_AGENT_CONFIG:"CAN_NOT_SET_AGENT_CONFIG",CAN_NOT_SET_CAPABILITIES:"CAN_NOT_SET_CAPABILITIES",CAN_NOT_UPDATE_PHONE_NUMBER:"CAN_NOT_UPDATE_PHONE_NUMBER",CAN_NOT_GET_SIGNED_RECORDING_URL:"CAN_NOT_GET_SIGNED_RECORDING_URL",CAN_NOT_SUPERVISE_CALL:"CAN_NOT_SUPERVISE_CALL",CAN_NOT_DISCONNECT_SUPERVISOR:"CAN_NOT_DISCONNECT_SUPERVISOR",CAN_NOT_BARGE_IN_SUPERVISOR:"CAN_NOT_BARGE_IN_SUPERVISOR",CAN_NOT_BARGE_IN_CALL:"CAN_NOT_BARGE_IN_CALL",AGENT_ERROR:"AGENT_ERROR",MICROPHONE_NOT_SHARED:"MICROPHONE_NOT_SHARED",UNSUPPORTED_BROWSER:"UNSUPPORTED_BROWSER",CAN_NOT_GET_AUDIO_DEVICES:"CAN_NOT_GET_AUDIO_DEVICES",CAN_NOT_UPDATE_CALL:"CAN_NOT_UPDATE_CALL"},AGENT_STATUS:{ONLINE:"Online",OFFLINE:"Offline",ACW:"AfterCallWork"},PARTICIPANT_TYPE:{AGENT:"Agent",INITIAL_CALLER:"Initial_Caller",THIRD_PARTY:"Third_Party",SUPERVISOR:"Supervisor"},CALL_TYPE:{INBOUND:"Inbound",OUTBOUND:"Outbound",CALLBACK:"Callback",ADD_PARTICIPANT:"AddParticipant",TRANSFER:"Transfer",INTERNAL_CALL:"InternalCall",DIALED_CALLBACK:"DialedCallback",CONSULT:"Consult"},CALL_SUBTYPE:{PSTN:"PSTN",WEB_RTC:"WebRTC"},DIALER_TYPE:{OUTBOUND_PREVIEW:"OutboundPreview",NONE:"None"},CONTACT_TYPE:{PHONEBOOK:"PhoneBook",QUEUE:"Queue",PHONENUMBER:"PhoneNumber",AGENT:"Agent",FLOW:"Flow"},AGENT_CONFIG_TYPE:{SHOW_AGENT_SETTINGS:"SHOW_AGENT_SETTINGS",PHONES:"PHONES",SELECTED_PHONE:"SELECTED_PHONE"},SHARED_CAPABILITIES_TYPE:{DEBUG_ENABLED:"DEBUG_ENABLED",CONTACT_SEARCH:"CONTACT_SEARCH",VENDOR_PROVIDED_AVAILABILITY:"VENDOR_PROVIDED_AVAILABILITY",VENDOR_PROVIDED_QUEUE_WAIT_TIME:"VENDOR_PROVIDED_QUEUE_WAIT_TIME",TRANSFER_TO_OMNI_FLOW:"TRANSFER_TO_OMNI_FLOW",PENDING_STATUS_CHANGE:"PENDING_STATUS_CHANGE",SFDC_PENDING_STATE:"SFDC_PENDING_STATE",AUTO_ACCEPT_ENABLED:"AUTO_ACCEPT_ENABLED"},VOICE_CAPABILITIES_TYPE:{MUTE:"MUTE",RECORD:"RECORD",MERGE:"MERGE",SWAP:"SWAP",BLIND_TRANSFER:"BLIND_TRANSFER",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL",SUPERVISOR_LISTEN_IN:"SUPERVISOR_LISTEN_IN",SUPERVISOR_BARGE_IN:"SUPERVISOR_BARGE_IN",MOS:"MOS",PHONEBOOK:"PHONEBOOK",HAS_GET_EXTERNAL_SPEAKER:"HAS_GET_EXTERNAL_SPEAKER",HAS_SET_EXTERNAL_SPEAKER:"HAS_SET_EXTERNAL_SPEAKER",HAS_GET_EXTERNAL_MICROPHONE:"HAS_GET_EXTERNAL_MICROPHONE",HAS_SET_EXTERNAL_MICROPHONE:"HAS_SET_EXTERNAL_MICROPHONE",CAN_CONSULT:"CAN_CONSULT",DIAL_PAD:"DIAL_PAD",HAS_HID_SUPPORT:"HAS_HID_SUPPORT",PHONEBOOK_DISABLE:"PHONEBOOK_DISABLE"},CALL_STATE:{RINGING:"ringing",CONNECTED:"connected",TRANSFERRING:"transferring",TRANSFERRED:"transferred",ENDED:"ended"},PHONE_TYPE:{DESK_PHONE:"DESK_PHONE",SOFT_PHONE:"SOFT_PHONE"},HANGUP_REASON:{PHONE_CALL_ERROR:"error",PHONE_CALL_ENDED:"ended"},AGENT_AVAILABILITY:{AVAILABLE:"AVAILABLE",BUSY:"BUSY",OFFLINE:"OFFLINE"},REMOVE_PARTICIPANT_VARIANT:{ALWAYS:"ALWAYS",NEVER:"NEVER",ALWAYS_EXCEPT_ON_HOLD:"ALWAYS_EXCEPT_ON_HOLD"},LOG_LEVEL:{ERROR:"ERROR",INFO:"INFO"},LOG_SOURCE:{SYSTEM:"SYSTEM",PARTNER:"PARTNER"},CONTACTS_FILTER_TYPES:{AGENT:"AGENT",QUEUE:"QUEUE",CONTACT:"CONTACT",DIRECTORY:"DIRECTORY",FLOW:"FLOW",AVAILABLE:"AVAILABLE"},WORK_EVENT:{ASSIGNED:"ASSIGNED",ACCEPTED:"ACCEPTED",DECLINED:"DECLINED",COMPLETED:"COMPLETED",CLOSED:"CLOSED",PAUSED:"PAUSED",UNPAUSED:"UNPAUSED"},DIAL_OPTIONS:{CALLBACK:"isCallback=true",CONSULT:"isConsultCall"},HANGUP_STATUS:{MISSED_AGENT:"MissedCallAgent",DECLINED:"DeclinedByAgent",FAILED_CONNECT_AGENT:"FailedConnectAgent",FAILED_CONNECT_CUSTOMER:"FailedConnectCustomer",CALLBACK_MISSED_OR_REJECTED:"CallbackMissedOrRejected"}};var s=["/internalNameLabel","/reqGeneralInfo/reqAdapterUrl","/reqGeneralInfo/reqVendorInfoApiName","isACWAllowed","isHVSEnabled","orgDomainName","phoneServiceChannelId","telephonySettingsComponentFqn"],A=["/reqHvcc"],l=["/reqHvcc/reqTelephonyIntegrationCertificate"];function N(e,E){for(var a=0;a<E.length;a++){var n=E[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t(n.key),n)}}function C(e,t,E){return t&&N(e.prototype,t),E&&N(e,E),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,E)}function E(){return function(e,t,E){if(I())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var n=new(e.bind.apply(e,a));return E&&R(n,E.prototype),n}(e,arguments,c(this).constructor)}return E.prototype=Object.create(e.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),R(E,e)},u(e)}var P=75e5,d=function(e){return"string"==typeof e?e:JSON.stringify(e)},L=0,p=[];function D(e,t,E){!function(e,t,E){if(!t)throw new Error("Log Message required");e=e||o.LOG_LEVEL.INFO,E=E||o.LOG_SOURCE.PARTNER;var a=[(new Date).toISOString(),d(e),d(E),"".concat(d(t),"\n")].join("|");L+a.length>=P&&(p=[],L=0),L+=a.length,p.push(a)}(t,e,E)}function h(){!function(e,t){if(document&&e){var E="string"==typeof e?e:JSON.stringify(e),a=new Blob([E],{type:"text/plain"}),n=document.createElement("a"),r=URL.createObjectURL(a);n.download=t,n.href=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}}(p.join(""),"log-".concat((new Date).getTime(),".txt"))}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var E=0,a=Array(t);E<t;E++)a[E]=e[E];return a}function v(t,E,a){return E=c(E),function(t,E){if(E&&("object"==e(E)||"function"==typeof E))return E;if(void 0!==E)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,f()?Reflect.construct(E,a||[],c(t).constructor):E.apply(t,a))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function G(e,t){var E=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),E.push.apply(E,a)}return E}function b(e){for(var t=1;t<arguments.length;t++){var E=null!=arguments[t]?arguments[t]:{};t%2?G(Object(E),!0).forEach((function(t){n(e,t,E[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(E)):G(Object(E)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(E,t))}))}return e}var Y,U,g,y,m={SHARED_EVENT_TYPE:{LOGIN_RESULT:o.SHARED_EVENT_TYPE.LOGIN_RESULT,LOGOUT_RESULT:o.SHARED_EVENT_TYPE.LOGOUT_RESULT,MESSAGE:o.SHARED_EVENT_TYPE.MESSAGE,SET_AGENT_STATUS:o.SHARED_EVENT_TYPE.SET_AGENT_STATUS,GET_AGENT_STATUS:o.SHARED_EVENT_TYPE.GET_AGENT_STATUS,STATE_CHANGE:o.SHARED_EVENT_TYPE.STATE_CHANGE,STORAGE_ACCESS_RESULT:o.SHARED_EVENT_TYPE.STORAGE_ACCESS_RESULT,GET_CONTACTS_RESULT:o.SHARED_EVENT_TYPE.GET_CONTACTS_RESULT,AFTER_CONVERSATION_WORK_STARTED:o.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_STARTED,AFTER_CONVERSATION_WORK_ENDED:o.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_ENDED},VOICE_EVENT_TYPE:{CALL_STARTED:o.VOICE_EVENT_TYPE.CALL_STARTED,QUEUED_CALL_STARTED:o.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED,CALL_CONNECTED:o.VOICE_EVENT_TYPE.CALL_CONNECTED,HANGUP:o.VOICE_EVENT_TYPE.HANGUP,MUTE_TOGGLE:o.VOICE_EVENT_TYPE.MUTE_TOGGLE,HOLD_TOGGLE:o.VOICE_EVENT_TYPE.HOLD_TOGGLE,RECORDING_TOGGLE:o.VOICE_EVENT_TYPE.RECORDING_TOGGLE,PARTICIPANTS_SWAPPED:o.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED,PARTICIPANTS_CONFERENCED:o.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED,PARTICIPANT_ADDED:o.VOICE_EVENT_TYPE.PARTICIPANT_ADDED,PARTICIPANT_CONNECTED:o.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED,PARTICIPANT_REMOVED:o.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED,AFTER_CALL_WORK_STARTED:o.VOICE_EVENT_TYPE.AFTER_CALL_WORK_STARTED,WRAP_UP_ENDED:o.VOICE_EVENT_TYPE.WRAP_UP_ENDED,AGENT_ERROR:o.VOICE_EVENT_TYPE.AGENT_ERROR,SOFTPHONE_ERROR:o.VOICE_EVENT_TYPE.SOFTPHONE_ERROR,UPDATE_AUDIO_STATS:o.VOICE_EVENT_TYPE.UPDATE_AUDIO_STATS,CALL_BARGED_IN:o.VOICE_EVENT_TYPE.CALL_BARGED_IN,SUPERVISOR_BARGED_IN:o.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN,SUPERVISOR_CALL_STARTED:o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED,SUPERVISOR_CALL_CONNECTED:o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED,SUPERVISOR_HANGUP:o.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP,SHOW_TRANSFER_VIEW:o.VOICE_EVENT_TYPE.SHOW_TRANSFER_VIEW,AUDIO_STATS:o.VOICE_EVENT_TYPE.AUDIO_STATS,CALL_UPDATED:o.VOICE_EVENT_TYPE.CALL_UPDATED},SHARED_ERROR_TYPE:{GENERIC_ERROR:o.SHARED_ERROR_TYPE.GENERIC_ERROR,INVALID_AGENT_STATUS:o.SHARED_ERROR_TYPE.INVALID_AGENT_STATUS},VOICE_ERROR_TYPE:{INVALID_PARTICIPANT:o.VOICE_ERROR_TYPE.INVALID_PARTICIPANT,INVALID_DESTINATION:o.VOICE_ERROR_TYPE.INVALID_DESTINATION,CAN_NOT_UPDATE_PHONE_NUMBER:o.VOICE_ERROR_TYPE.CAN_NOT_UPDATE_PHONE_NUMBER,INVALID_PARAMS:o.VOICE_ERROR_TYPE.INVALID_PARAMS},AGENT_STATUS:b({},o.AGENT_STATUS),PARTICIPANT_TYPE:b({},o.PARTICIPANT_TYPE),CALL_TYPE:b({},o.CALL_TYPE),CALL_SUBTYPE:b({},o.CALL_SUBTYPE),DIALER_TYPE:b({},o.DIALER_TYPE),CONTACT_TYPE:b({},o.CONTACT_TYPE),CALL_STATE:b({},o.CALL_STATE),HANGUP_REASON:b({},o.HANGUP_REASON),PHONE_TYPE:b({},o.PHONE_TYPE),AGENT_AVAILABILITY:b({},o.AGENT_AVAILABILITY),REMOVE_PARTICIPANT_VARIANT:b({},o.REMOVE_PARTICIPANT_VARIANT),LOG_LEVEL:b({},o.LOG_LEVEL),CONTACTS_FILTER_TYPES:b({},o.CONTACTS_FILTER_TYPES),WORK_EVENT:b({},o.WORK_EVENT),HANGUP_STATUS:b({},o.HANGUP_STATUS)},H=function(e){function t(e){var E,a=e.labelName,n=e.namespace,r=e.message;return O(this,t),E=v(this,t,[r]),le.validateString(a),le.validateString(n),r&&le.validateString(r),E.labelName=a,E.namespace=n,E.message=r,E}return S(t,e),C(t)}(u(Error)),M=C((function e(t){var E=t.type,a=t.number;O(this,e),le.validateEnum(E,Object.values(o.PHONE_TYPE)),a&&le.validateString(a),this.type=E,this.number=a})),k=C((function e(t){var E=t.productId,a=t.vendorId;O(this,e),E&&le.validateNumber(E),a&&le.validateNumber(a),this.productId=E,this.vendorId=a})),w=C((function e(t){var E=t.isMuted,a=t.call,n=t.isGlobal;O(this,e),this.isMuted=E,this.call=a,this.isGlobal=n})),B=C((function e(t){var E=t.activeCalls,a=void 0===E?[]:E;O(this,e),a.length>0&&a.forEach((function(e){le.validateClassObject(e,oe)})),this.activeCalls=a})),x=C((function e(t){var E=t.audioDevices,a=void 0===E?[]:E;O(this,e),this.audioDevices=a})),F=C((function e(t){var E=t.debugEnabled,a=void 0===E||E,n=t.hasContactSearch,r=void 0!==n&&n,_=t.hasAgentAvailability,T=void 0!==_&&_,i=t.hasQueueWaitTime,o=void 0!==i&&i,s=t.hasTransferToOmniFlow,A=void 0!==s&&s,l=t.hasPendingStatusChange,N=void 0!==l&&l,C=t.hasSFDCPendingState,c=void 0!==C&&C,R=t.hasAutoAcceptEnabled,S=void 0!==R&&R;O(this,e),le.validateBoolean(a),le.validateBoolean(r),le.validateBoolean(T),le.validateBoolean(o),le.validateBoolean(A),le.validateBoolean(N),le.validateBoolean(c),le.validateBoolean(S),this.debugEnabled=a,this.hasContactSearch=r,this.hasAgentAvailability=T,this.hasQueueWaitTime=o,this.hasTransferToOmniFlow=A,this.hasPendingStatusChange=N,this.hasSFDCPendingState=c,this.hasAutoAcceptEnabled=S})),j=C((function e(t){var E=t.hasMute,a=void 0===E||E,n=t.hasRecord,r=void 0===n||n,_=t.hasMerge,T=void 0===_||_,i=t.hasSwap,o=void 0===i||i,s=t.hasBlindTransfer,A=void 0!==s&&s,l=t.hasSignedRecordingUrl,N=void 0!==l&&l,C=t.supportsMos,c=void 0!==C&&C,R=t.hasSupervisorListenIn,S=void 0!==R&&R,I=t.hasSupervisorBargeIn,u=void 0!==I&&I,P=t.hasPhoneBook,d=void 0!==P&&P,L=t.hasGetExternalSpeakerDeviceSetting,p=void 0!==L&&L,D=t.hasSetExternalSpeakerDeviceSetting,h=void 0!==D&&D,V=t.hasGetExternalMicrophoneDeviceSetting,v=void 0!==V&&V,f=t.hasSetExternalMicrophoneDeviceSetting,G=void 0!==f&&f,b=t.canConsult,Y=void 0!==b&&b,U=t.isDialPadDisabled,g=void 0!==U&&U,y=t.isHidSupported,m=void 0!==y&&y,H=t.isPhoneBookDisabled,M=void 0!==H&&H;O(this,e),le.validateBoolean(a),le.validateBoolean(r),le.validateBoolean(T),le.validateBoolean(o),le.validateBoolean(A),le.validateBoolean(N),le.validateBoolean(c),le.validateBoolean(S),le.validateBoolean(u),le.validateBoolean(d),le.validateBoolean(p),le.validateBoolean(h),le.validateBoolean(v),le.validateBoolean(G),le.validateBoolean(Y),le.validateBoolean(g),le.validateBoolean(m),le.validateBoolean(M),this.hasMute=a,this.hasRecord=r,this.hasMerge=T,this.hasSwap=o,this.hasBlindTransfer=A,this.hasSignedRecordingUrl=N,this.supportsMos=c,this.hasSupervisorListenIn=S,this.hasSupervisorBargeIn=u,this.hasPhoneBook=d,this.hasGetExternalSpeakerDeviceSetting=p,this.hasSetExternalSpeakerDeviceSetting=h,this.hasGetExternalMicrophoneDeviceSetting=v,this.hasSetExternalMicrophoneDeviceSetting=G,this.canConsult=Y,this.isDialPadDisabled=g,this.isHidSupported=m,this.isPhoneBookDisabled=M})),W=C((function e(t){var E=t.phones,a=void 0===E?[o.PHONE_TYPE.SOFT_PHONE]:E,n=t.selectedPhone,r=void 0===n?new M({type:o.PHONE_TYPE.SOFT_PHONE}):n,_=t.speakerDeviceId,T=void 0===_?"":_,i=t.microphoneDeviceId,s=void 0===i?"":i;O(this,e),le.validateClassObject(a,Array),le.validateClassObject(r,M),le.validateString(T),le.validateString(s),this.phones=a,this.selectedPhone=r,this.speakerDeviceId=T,this.microphoneDeviceId=s})),K=C((function e(t){var E=t.selectedPhone,a=t.speakerDeviceId,n=t.microphoneDeviceId,r=t.hidDeviceInfo;O(this,e),le.validateClassObject(E,M),void 0!==r&&le.validateClassObject(r,k),this.selectedPhone=E,this.speakerDeviceId=a,this.microphoneDeviceId=n,this.hidDeviceInfo=r})),q=C((function e(t){var E=t.isRecordingPaused,a=t.contactId,n=void 0===a?null:a,r=t.initialContactId,_=void 0===r?null:r,T=t.instanceId,i=void 0===T?null:T,o=t.region,s=void 0===o?null:o;O(this,e),this.isRecordingPaused=E,this.contactId=n,this.initialContactId=_,this.instanceId=i,this.region=s})),Q=C((function e(t){var E=t.initialCallHasEnded,a=t.callInfo,n=t.callAttributes,r=t.phoneNumber,_=t.callId,T=t.contact,i=void 0===T?null:T;O(this,e),le.validateClassObject(a,_e),this.initialCallHasEnded=E,this.callInfo=a,this.callAttributes=n,this.phoneNumber=r,this.callId=_,this.contact=i})),X=C((function e(t){var E=t.contacts,a=void 0===E?[]:E,n=t.contactTypes,r=void 0===n?[]:n;O(this,e),a.length>0&&a.forEach((function(e){le.validateClassObject(e,Te)})),r.length>0&&r.forEach((function(e){le.validateEnum(e,Object.values(o.CONTACT_TYPE))})),this.contacts=a,this.contactTypes=r})),J=function(e){function t(e){var E=e.contacts,a=void 0===E?[]:E,n=e.contactTypes,r=void 0===n?[]:n;return O(this,t),v(this,t,[{contacts:a,contactTypes:r}])}return S(t,e),C(t)}(X),$=C((function e(t){var E=t.call;O(this,e),void 0!==E&&le.validateClassObject(E,oe),this.call=E})),z=C((function e(t){var E=t.calls;O(this,e),E instanceof Array?(E.forEach((function(e){return le.validateClassObject(e,oe)})),this.calls=E):(le.validateClassObject(E,oe),this.calls=[E])})),Z=C((function e(t){var E=t.isThirdPartyOnHold,a=t.isCustomerOnHold,n=t.calls;O(this,e),n&&(Object.values(n).forEach((function(e){le.validateClassObject(e,oe)})),this.calls=n),this.isThirdPartyOnHold=E,this.isCustomerOnHold=a})),ee=C((function e(t){var E=t.success,a=t.url,n=t.duration,r=t.callId;O(this,e),E&&(le.validateString(a),le.validateString(r),n&&le.validateNumber(n)),this.success=E,this.url=a,this.duration=n,this.callId=r})),te=C((function e(t){var E=t.showLogin,a=void 0!==E&&E,n=t.loginFrameHeight,r=void 0===n?350:n,_=t.isSilentLogin,T=void 0!==_&&_,i=t.showStorageAccess,o=void 0!==i&&i;O(this,e),this.showLogin=a,this.loginFrameHeight=r,this.isSilentLogin=!this.showLogin&&T,this.showStorageAccess=o})),Ee=C((function e(t){var E=t.isCallback,a=void 0!==E&&E,n=t.isConsultCall,r=void 0!==n&&n;O(this,e),this.isCallback=a,this.isConsultCall=r})),ae=C((function e(t){var E=t.success;O(this,e),this.success=E})),ne=function(e){function t(e){var E,a=e.success,n=e.isSystemEvent,r=void 0!==n&&n;return O(this,t),(E=v(this,t,[{success:a}])).isSystemEvent=r,E}return S(t,e),C(t,[{key:"setIsSystemEvent",value:function(e){this.isSystemEvent=e}}])}(ae),re=C((function e(t){var E=t.success,a=t.loginFrameHeight,n=void 0===a?350:a;O(this,e),this.success=E,this.loginFrameHeight=n})),_e=C((function e(t){var E=t.callStateTimestamp,a=void 0===E?null:E,n=t.isOnHold,r=t.isMuted,_=void 0!==r&&r,T=t.isRecordingPaused,i=void 0!==T&&T,s=t.initialCallId,A=t.queueId,l=void 0===A?null:A,N=t.queueName,C=void 0===N?null:N,c=t.queueTimestamp,R=void 0===c?null:c,S=t.isSoftphoneCall,I=void 0===S||S,u=t.acceptEnabled,P=void 0===u||u,d=t.declineEnabled,L=void 0===d||d,p=t.muteEnabled,D=void 0===p||p,h=t.swapEnabled,V=void 0===h||h,v=t.conferenceEnabled,f=void 0===v||v,G=t.holdEnabled,b=void 0===G||G,Y=t.recordEnabled,U=void 0===Y||Y,g=t.addCallerEnabled,y=void 0===g||g,H=t.extensionEnabled,M=void 0===H||H,k=t.isReplayable,w=void 0===k||k,B=t.isBargeable,x=void 0!==B&&B,F=t.isExternalTransfer,j=t.showMuteButton,W=void 0===j||j,K=t.showRecordButton,q=void 0===K||K,Q=t.showAddCallerButton,X=void 0===Q||Q,J=t.showAddBlindTransferButton,$=void 0===J||J,z=t.showMergeButton,Z=void 0===z||z,ee=t.showSwapButton,te=void 0===ee||ee,Ee=t.removeParticipantVariant,ae=void 0===Ee?m.REMOVE_PARTICIPANT_VARIANT.ALWAYS:Ee,ne=t.additionalFields,re=void 0===ne?null:ne,_e=t.isMultiParty,Te=void 0!==_e&&_e,ie=t.isHIDCall,oe=void 0!==ie&&ie,se=t.endCallDisabled,Ae=void 0!==se&&se,Ne=t.renderContactId,Ce=void 0===Ne?null:Ne;O(this,e),a&&le.validateDate(a),R&&le.validateDate(R),l&&le.validateString(l),C&&le.validateString(C),le.validateBoolean(i),le.validateBoolean(_),le.validateBoolean(I),le.validateBoolean(P),le.validateBoolean(L),le.validateBoolean(D),le.validateBoolean(V),le.validateBoolean(f),le.validateBoolean(b),le.validateBoolean(U),le.validateBoolean(y),le.validateBoolean(M),le.validateBoolean(x),le.validateBoolean(W),le.validateBoolean(q),le.validateBoolean(X),le.validateBoolean($),le.validateBoolean(Z),le.validateBoolean(te),le.validateBoolean(oe),le.validateBoolean(Ae),void 0!==F&&le.validateBoolean(F),le.validateEnum(ae,Object.values(o.REMOVE_PARTICIPANT_VARIANT)),re&&le.validateString(re),le.validateBoolean(Te),Ce&&le.validateString(Ce),this.callStateTimestamp=a,this.isRecordingPaused=i,this.isMuted=_,this.isOnHold=n,this.initialCallId=s,this.queueName=C,this.queueId=l,this.queueTimestamp=R,this.isSoftphoneCall=I,this.acceptEnabled=P,this.declineEnabled=L,this.muteEnabled=D,this.swapEnabled=V,this.conferenceEnabled=f,this.holdEnabled=b,this.recordEnabled=U,this.addCallerEnabled=y,this.extensionEnabled=M,this.isReplayable=w,this.isBargeable=x,this.isExternalTransfer=F,this.removeParticipantVariant=ae,this.showMuteButton=W,this.showRecordButton=q,this.showAddCallerButton=X,this.showAddBlindTransferButton=$,this.showMergeButton=Z,this.showSwapButton=te,this.additionalFields=re,this.isMultiParty=Te,this.isHIDCall=oe,this.endCallDisabled=Ae,this.renderContactId=Ce})),Te=C((function e(t){var E=t.phoneNumber,a=t.id,n=t.type,r=t.name,_=t.prefix,T=t.extension,i=t.endpointARN,s=t.queue,A=t.availability,l=t.recordId,N=t.description,C=t.queueWaitTime;O(this,e),E&&le.validateString(E),n&&le.validateEnum(n,Object.values(o.CONTACT_TYPE)),a&&le.validateString(a),r&&le.validateString(r),_&&le.validateString(_),T&&le.validateString(T),A&&le.validateEnum(A,Object.values(o.AGENT_AVAILABILITY)),l&&le.validateString(l),N&&le.validateString(N),C&&le.validateString(C),this.phoneNumber=E,this.id=a,this.type=n,this.name=r,this.prefix=_,this.extension=T,this.endpointARN=i,this.queue=s,o.CONTACT_TYPE.AGENT===this.type?this.availability=A:this.availability=null,this.queueWaitTime=C,this.recordId=l,this.description=N})),ie=C((function e(t){var E=t.voiceCallId,a=t.participantType,n=t.dialerType,r=void 0===n?m.DIALER_TYPE.NONE:n,_=t.parentId,T=t.isOnHold,i=t.hasSupervisorBargedIn,s=void 0!==i&&i,A=t.isAutoMergeOn,l=void 0!==A&&A,N=t.isConsultCall,C=void 0!==N&&N;O(this,e),E&&le.validateString(E),a&&le.validateEnum(a,Object.values(o.PARTICIPANT_TYPE)),_&&le.validateString(_),void 0!==T&&le.validateBoolean(T),le.validateBoolean(s),le.validateEnum(r,Object.values(o.DIALER_TYPE)),le.validateBoolean(l),le.validateBoolean(C),this.voiceCallId=E,this.participantType=a,this.parentId=_,this.isOnHold=T,this.dialerType=r,this.hasSupervisorBargedIn=s,this.isAutoMergeOn=l,this.isConsultCall=C})),oe=C((function e(t){var E=t.callId,a=t.callType,n=t.callSubtype,r=t.contact,_=t.state,T=t.callAttributes,i=t.phoneNumber,s=t.callInfo,A=t.reason,l=t.closeCallOnError,N=t.agentStatus,C=t.agentARN;O(this,e),E&&(le.validateString(E),this.callId=E),a&&(le.validateEnum(a,Object.values(o.CALL_TYPE)),this.callType=a),n&&(le.validateEnum(n,Object.values(o.CALL_SUBTYPE)),this.callSubtype=n),i&&(le.validateString(i),this.phoneNumber=i),s&&(le.validateClassObject(s,_e),this.callInfo=s),r&&(le.validateClassObject(r,Te),this.contact=r),A&&(this.reason=A),l&&(this.closeCallOnError=l),N&&(this.agentStatus=N),C&&(this.agentARN=C),this.state=_,this.callAttributes=T})),se=function(){return C((function e(){O(this,e)}),[{key:"getActiveCalls",value:function(){throw new Error("Not implemented")}},{key:"acceptCall",value:function(e){throw new Error("Not implemented")}},{key:"declineCall",value:function(e){throw new Error("Not implemented")}},{key:"endCall",value:function(e,t){throw new Error("Not implemented")}},{key:"mute",value:function(){throw new Error("Not implemented")}},{key:"unmute",value:function(){throw new Error("Not implemented")}},{key:"hold",value:function(e){throw new Error("Not implemented")}},{key:"resume",value:function(e){throw new Error("Not implemented")}},{key:"dial",value:function(e,t){throw new Error("Not implemented")}},{key:"sendDigits",value:function(e){throw new Error("Not implemented")}},{key:"getPhoneContacts",value:function(e){throw new Error("Not implemented")}},{key:"swap",value:function(e,t){throw new Error("Not implemented")}},{key:"conference",value:function(e){throw new Error("Not implemented")}},{key:"addParticipant",value:function(e,t,E){throw new Error("Not implemented")}},{key:"pauseRecording",value:function(){throw new Error("Not implemented")}},{key:"resumeRecording",value:function(){throw new Error("Not implemented")}},{key:"getAgentConfig",value:function(){throw new Error("Not implemented")}},{key:"setAgentConfig",value:function(e){throw new Error("Not implemented")}},{key:"getVoiceCapabilities",value:function(){throw new Error("Not implemented")}},{key:"wrapUpCall",value:function(e){throw new Error("Not implemented")}},{key:"getSignedRecordingUrl",value:function(e,t,E){throw new Error("Not implemented")}},{key:"superviseCall",value:function(e){throw new Error("Not implemented")}},{key:"supervisorDisconnect",value:function(e){throw new Error("Not implemented")}},{key:"supervisorBargeIn",value:function(e){throw new Error("Not implemented")}}])}(),Ae=function(){return C((function e(){O(this,e)}),[{key:"init",value:function(e){throw new Error("Not implemented")}},{key:"getTelephonyConnector",value:function(){throw new Error("Not implemented")}},{key:"onAgentWorkEvent",value:function(e){throw new Error("Not implemented")}},{key:"setAgentStatus",value:function(e,t,E){throw new Error("Not implemented")}},{key:"getAgentStatus",value:function(){this.logMessageToVendor(o.LOG_LEVEL.INFO,"getAgentStatus API is NOT Implemented")}},{key:"logout",value:function(){throw new Error("Not implemented")}},{key:"handleMessage",value:function(e){throw new Error("Not implemented")}},{key:"downloadLogs",value:function(e){h()}},{key:"logMessageToVendor",value:function(e,t,E){}},{key:"getContacts",value:function(e,t){throw new Error("Not implemented")}},{key:"getAudioDevices",value:function(){throw new Error("Not implemented")}},{key:"getSharedCapabilities",value:function(){throw new Error("Not implemented")}}])}(),le=function(){return C((function e(){O(this,e)}),null,[{key:"validateString",value:function(t){if("string"!=typeof t)throw new Error("Invalid argument. Expecting a string but got ".concat(e(t)));return this}},{key:"validateNumber",value:function(t){if("number"!=typeof t)throw new Error("Invalid argument. Expecting a number but got ".concat(e(t)));return this}},{key:"validateBoolean",value:function(t){if("boolean"!=typeof t)throw new Error("Invalid argument. Expecting a boolean but got ".concat(e(t)));return this}},{key:"validateEnum",value:function(e,t){if(!new RegExp(t.join("|"),"i").test(e))throw new Error("Invalid argument. Expecting a value from ".concat(JSON.stringify(t)," but got ").concat(e));return this}},{key:"validateDate",value:function(t){if(!(t instanceof Date))throw new Error("Invalid argument. Expecting a Date object but got ".concat(e(t)));return this}},{key:"validateClassObject",value:function(t,E){if(!(t instanceof E))throw new Error("Invalid className. Expecting object of class ".concat(E," but got ").concat(e(t)));return this}},{key:"validateClassObjects",value:function(t){for(var E=!1,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];for(var _=0;_<n.length;_++)try{this.validateClassObject(t,n[_]),E=!0;break}catch(e){}if(!E)throw new Error("Invalid className. Expecting object matching a class name in ".concat(n," but got ").concat(e(t)));return this}}])}(),Ne=C((function e(t){var E=t.workItemId,a=t.workId,n=t.workEvent;O(this,e),le.validateEnum(n,Object.values(o.WORK_EVENT)),this.workEvent=n,this.workItemId=E,this.workId=a})),Ce=C((function e(t){var E=t.statusId,a=t.statusApiName,n=t.statusName;O(this,e),le.validateString(E),a&&le.validateString(a),n&&le.validateString(n),this.statusId=E,this.statusApiName=a,this.statusName=n})),Oe=C((function e(t){var E=t.statusId,a=t.statusType,n=t.statusName;O(this,e),E&&le.validateString(E),a&&le.validateString(a),n&&le.validateString(n),this.statusId=E,this.statusType=a,this.statusName=n})),ce=C((function e(t){var E=t.newVendorStateInfo,a=t.oldVendorStateInfo;O(this,e),le.validateClassObject(E,Oe),le.validateString(E.statusName),a&&le.validateClassObject(a,Oe),this.newVendorStateInfo=E,this.oldVendorStateInfo=a})),Re=C((function e(t){var E=t.callId,a=t.voiceCallId,n=t.callType,r=t.from,_=t.to,T=t.supervisorName,i=t.isBargedIn;O(this,e),le.validateString(E),this.callId=E,this.voiceCallId=a,this.callType=n,this.from=r,this.to=_,this.supervisorName=T,this.isBargedIn=i})),Se=C((function e(t){var E=t.callId,a=t.stats,n=t.isAudioStatsCompleted;O(this,e),E&&(le.validateString(E),this.callId=E),a&&(le.validateClassObject(a,Array),a.forEach((function(e){return le.validateClassObject(e,Ie)})),this.stats=a),n&&(le.validateBoolean(n),this.isAudioStatsCompleted=n)})),Ie=C((function e(t){var E=t.inputChannelStats,a=t.outputChannelStats;O(this,e),E&&le.validateClassObject(E,ue),a&&le.validateClassObject(a,ue),this.inputChannelStats=E,this.outputChannelStats=a})),ue=C((function e(t){var E=t.packetsCount,a=t.packetsLost,n=t.jitterBufferMillis,r=t.roundTripTimeMillis;O(this,e),E=null==E||E<0?0:E,a=null==a||a<0?0:a,n=null==n||n<0?0:n,r=null==r||r<0?0:r,this.statsCount=0,this.packetsCount=E,this.packetsLost=a,this.jitterBufferMillis=n,this.roundTripTimeMillis=r})),Pe=C((function e(t){var E=t.call;O(this,e),le.validateClassObject(E,oe),this.call=E})),de=function(e){function t(e){var E=e.calls;return O(this,t),v(this,t,[{calls:E}])}return S(t,e),C(t)}(z),Le=C((function e(t){var E=t.success,a=void 0!==E&&E,n=t.showLogin,r=void 0!==n&&n,_=t.loginFrameHeight,T=void 0===_?350:_;O(this,e),this.success=a,this.showLogin=r,this.loginFrameHeight=T})),pe=C((function e(t){if(O(this,e),t){var E=t.contains,a=void 0===E?null:E,n=t.limit,r=void 0===n?50:n,_=t.offset,T=void 0===_?0:_,i=t.types,s=void 0===i?[]:i;a&&le.validateString(a),le.validateNumber(r),le.validateNumber(T);var A,l=function(e,t){var E="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!E){if(Array.isArray(e)||(E=function(e,t){if(e){if("string"==typeof e)return V(e,t);var E={}.toString.call(e).slice(8,-1);return"Object"===E&&e.constructor&&(E=e.constructor.name),"Map"===E||"Set"===E?Array.from(e):"Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?V(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){E&&(e=E);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,_=!0,T=!1;return{s:function(){E=E.call(e)},n:function(){var e=E.next();return _=e.done,e},e:function(e){T=!0,r=e},f:function(){try{_||null==E.return||E.return()}finally{if(T)throw r}}}}(s);try{for(l.s();!(A=l.n()).done;)A.value,le.validateEnum(s,Object.values(o.CONTACTS_FILTER_TYPES))}catch(e){l.e(e)}finally{l.f()}this.contains=a,this.limit=r,this.offset=T,this.types=s}})),De=C((function e(t){var E=t.agentWorkId,a=t.workItemId;if(O(this,e),E&&(le.validateString(E),this.agentWorkId=E),a&&(le.validateString(a),this.workItemId=a),!E&&!a)throw new Error("You must pass at least one of agent work id or work item (voice call or messaging session) id")})),he=!1;function Ve(e){var t=function(e){var t=Y[e];return{packetsCount:t.packetsCount/t.statsCount,packetsLost:t.packetsLost/t.statsCount,jitterBufferMillis:t.jitterBufferMillis/t.statsCount,roundTripTimeMillis:t.roundTripTimeMillis/t.statsCount}}(e),E=t.roundTripTimeMillis+2*t.jitterBufferMillis+10,a=0;return a=E<160?93.2-E/40:93.2-(E-120)/10,1+.035*(a-=t.packetsLost/t.packetsCount*2.5)+7e-6*a*(a-60)*(100-a)}function ve(){if(he&&Y){var e=Ve("inputChannelStats"),t=Ve("outputChannelStats");return Y=null,isNaN(t)&&isNaN(e)?0:isNaN(t)?e:isNaN(e)?t:Math.min(e,t)}}function fe(){Y=new Ie({inputChannelStats:new ue({packetsCount:0,packetsLost:0,jitterBufferMillis:0,roundTripTimeMillis:0}),outputChannelStats:new ue({packetsCount:0,packetsLost:0,jitterBufferMillis:0,roundTripTimeMillis:0})})}function Ge(e){return e&&e.type?e.type:e}function be(t){if(t){if("function"==typeof t)return;if("object"===e(t)){var E=Array.isArray(t),a=E?[]:{};if(E)t.forEach((function(e){a.push(be(e))}));else for(var n in t)"phoneNumber"!==n&&"number"!==n&&"name"!==n&&"callAttributes"!==n&&(a[n]=be(t[n]));return a}}return t}function Ye(e){return e&&e.message?e.message:e}function Ue(e,t,E){var a=be(t);D({eventType:e,payload:t},E?o.LOG_LEVEL.ERROR:o.LOG_LEVEL.INFO,o.LOG_SOURCE.SYSTEM),U.postMessage({type:o.SHARED_MESSAGE_TYPE.LOG,payload:{eventType:e,payload:a,isError:E}})}function ge(e,t){var E=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];U.postMessage({type:o.SHARED_MESSAGE_TYPE.TELEPHONY_EVENT_DISPATCHED,payload:{telephonyEventType:e,telephonyEventPayload:t}}),E&&Ue(e,t,!1)}function ye(e,t,E){console.error("SCV dispatched error ".concat(e," for eventType ").concat(E),t),ge(o.SHARED_EVENT_TYPE.ERROR,{message:e},!1),Ue(E,{errorType:e,error:t},!0)}function me(e,t){var E={customError:{labelName:e.labelName,namespace:e.namespace,message:e.message}};console.error("SCV dispatched custom error for eventType ".concat(t),E),ge(o.SHARED_EVENT_TYPE.ERROR,E,!1),Ue(t,{errorType:o.SHARED_ERROR_TYPE.CUSTOM_ERROR,error:e},!0)}function He(e,t){console.info("SCV info message dispatched for eventType ".concat(e," with payload ").concat(JSON.stringify(t))),ge(o.SHARED_EVENT_TYPE.INFO,{message:e},!1),Ue(e,t,!1)}function Me(){return ke.apply(this,arguments)}function ke(){return(ke=_(i().mark((function e(){var t,E,a,r,_,T,s,A,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.getTelephonyConnector();case 3:return E=e.sent,e.next=6,E.getAgentConfig();case 6:return a=e.sent,e.next=9,g.getSharedCapabilities();case 9:return r=e.sent,e.next=12,E.getVoiceCapabilities();case 12:return _=e.sent,le.validateClassObject(a,W),le.validateClassObject(_,j),_.supportsMos&&(he=!0),e.next=18,E.getActiveCalls();case 18:T=e.sent,le.validateClassObject(T,B),s=T.activeCalls,A=o.SHARED_MESSAGE_TYPE.CONNECTOR_READY,l={agentConfig:n(n({},o.AGENT_CONFIG_TYPE.PHONES,a.phones),o.AGENT_CONFIG_TYPE.SELECTED_PHONE,a.selectedPhone),capabilities:(t={},n(n(n(n(n(n(n(n(n(n(t,o.SHARED_CAPABILITIES_TYPE.DEBUG_ENABLED,r.debugEnabled),o.SHARED_CAPABILITIES_TYPE.CONTACT_SEARCH,r.hasContactSearch),o.SHARED_CAPABILITIES_TYPE.VENDOR_PROVIDED_AVAILABILITY,r.hasAgentAvailability),o.SHARED_CAPABILITIES_TYPE.VENDOR_PROVIDED_QUEUE_WAIT_TIME,r.hasQueueWaitTime),o.SHARED_CAPABILITIES_TYPE.TRANSFER_TO_OMNI_FLOW,r.hasTransferToOmniFlow),o.SHARED_CAPABILITIES_TYPE.PENDING_STATUS_CHANGE,r.hasPendingStatusChange),o.SHARED_CAPABILITIES_TYPE.SFDC_PENDING_STATE,r.hasSFDCPendingState),o.SHARED_CAPABILITIES_TYPE.AUTO_ACCEPT_ENABLED,r.hasAutoAcceptEnabled),o.VOICE_CAPABILITIES_TYPE.MUTE,_.hasMute),o.VOICE_CAPABILITIES_TYPE.RECORD,_.hasRecord),n(n(n(n(n(n(n(n(n(n(t,o.VOICE_CAPABILITIES_TYPE.MERGE,_.hasMerge),o.VOICE_CAPABILITIES_TYPE.SWAP,_.hasSwap),o.VOICE_CAPABILITIES_TYPE.BLIND_TRANSFER,_.hasBlindTransfer),o.VOICE_CAPABILITIES_TYPE.SIGNED_RECORDING_URL,_.hasSignedRecordingUrl),o.VOICE_CAPABILITIES_TYPE.SUPERVISOR_LISTEN_IN,_.hasSupervisorListenIn),o.VOICE_CAPABILITIES_TYPE.SUPERVISOR_BARGE_IN,_.hasSupervisorBargeIn),o.VOICE_CAPABILITIES_TYPE.MOS,_.supportsMos),o.VOICE_CAPABILITIES_TYPE.PHONEBOOK,_.hasPhoneBook),o.VOICE_CAPABILITIES_TYPE.HAS_GET_EXTERNAL_SPEAKER,_.hasGetExternalSpeakerDeviceSetting),o.VOICE_CAPABILITIES_TYPE.HAS_SET_EXTERNAL_SPEAKER,_.hasSetExternalSpeakerDeviceSetting),n(n(n(n(n(n(t,o.VOICE_CAPABILITIES_TYPE.HAS_GET_EXTERNAL_MICROPHONE,_.hasGetExternalMicrophoneDeviceSetting),o.VOICE_CAPABILITIES_TYPE.HAS_SET_EXTERNAL_MICROPHONE,_.hasSetExternalMicrophoneDeviceSetting),o.VOICE_CAPABILITIES_TYPE.CAN_CONSULT,_.canConsult),o.VOICE_CAPABILITIES_TYPE.DIAL_PAD,_.isDialPadDisabled),o.VOICE_CAPABILITIES_TYPE.HAS_HID_SUPPORT,_.isHidSupported),o.VOICE_CAPABILITIES_TYPE.PHONEBOOK_DISABLE,_.isPhoneBookDisabled)),callInProgress:s.length>0?s[0]:null},U.postMessage({type:A,payload:l}),Ue(A,l,!1),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(0),U.postMessage({type:o.SHARED_MESSAGE_TYPE.CONNECTOR_READY,payload:{}}),Ue(o.SHARED_MESSAGE_TYPE.CONNECTOR_READY,{},!1);case 31:case"end":return e.stop()}}),e,null,[[0,27]])})))).apply(this,arguments)}function we(e){return Be.apply(this,arguments)}function Be(){return(Be=_(i().mark((function e(t){var E,a,n,r,_,T,s,A,l,N,C,O,c,R,S,I,u,P,d,L,D,h,V,v,f,G,b,Y,U,m,M,k,w,F,j,W,K,q,Q,Z,te,_e,ie,oe,se,Ae,Ne,Ce,ce,Re,Se,Ie,ue,Le,pe,De,he,Ve,ve,be,Me,ke,we,Be,xe,Fe,je,We,Ke,qe,Qe,Je,$e,ze,Ze,et,tt,Et,at,nt,rt,_t,Tt;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(E=t.data.type)!==o.SHARED_MESSAGE_TYPE.LOG&&Ue(E,t.data,!1),e.t0=E,e.next=e.t0===o.VOICE_MESSAGE_TYPE.ACCEPT_CALL?5:e.t0===o.VOICE_MESSAGE_TYPE.DECLINE_CALL?32:e.t0===o.VOICE_MESSAGE_TYPE.END_CALL?48:e.t0===o.VOICE_MESSAGE_TYPE.MUTE?69:e.t0===o.VOICE_MESSAGE_TYPE.UNMUTE?83:e.t0===o.VOICE_MESSAGE_TYPE.HOLD?97:e.t0===o.VOICE_MESSAGE_TYPE.RESUME?121:e.t0===o.SHARED_MESSAGE_TYPE.SET_AGENT_STATUS?145:e.t0===o.SHARED_MESSAGE_TYPE.GET_AGENT_STATUS?171:e.t0===o.VOICE_MESSAGE_TYPE.DIAL?183:e.t0===o.VOICE_MESSAGE_TYPE.SEND_DIGITS?214:e.t0===o.VOICE_MESSAGE_TYPE.GET_PHONE_CONTACTS?226:e.t0===o.SHARED_MESSAGE_TYPE.GET_CONTACTS?242:e.t0===o.VOICE_MESSAGE_TYPE.SWAP_PARTICIPANTS?255:e.t0===o.VOICE_MESSAGE_TYPE.CONFERENCE?269:e.t0===o.VOICE_MESSAGE_TYPE.ADD_PARTICIPANT?283:e.t0===o.VOICE_MESSAGE_TYPE.PAUSE_RECORDING?309:e.t0===o.VOICE_MESSAGE_TYPE.RESUME_RECORDING?323:e.t0===o.SHARED_MESSAGE_TYPE.LOGOUT?337:e.t0===o.SHARED_MESSAGE_TYPE.MESSAGE?350:e.t0===o.VOICE_MESSAGE_TYPE.WRAP_UP_CALL?352:e.t0===o.VOICE_MESSAGE_TYPE.AGENT_AVAILABLE?357:e.t0===o.VOICE_MESSAGE_TYPE.SET_AGENT_CONFIG?399:e.t0===o.VOICE_MESSAGE_TYPE.GET_AUDIO_DEVICES?415:e.t0===o.VOICE_MESSAGE_TYPE.GET_SIGNED_RECORDING_URL?430:e.t0===o.SHARED_MESSAGE_TYPE.DOWNLOAD_VENDOR_LOGS?448:e.t0===o.SHARED_MESSAGE_TYPE.LOG?450:e.t0===o.VOICE_MESSAGE_TYPE.SUPERVISE_CALL?453:e.t0===o.VOICE_MESSAGE_TYPE.SUPERVISOR_DISCONNECT?473:e.t0===o.VOICE_MESSAGE_TYPE.SUPERVISOR_BARGE_IN?489:e.t0===o.SHARED_MESSAGE_TYPE.AGENT_WORK_EVENT?504:507;break;case 5:if(e.prev=5,!t.data.call||!t.data.call.callType||t.data.call.callType.toLowerCase()!==o.CALL_TYPE.OUTBOUND.toLowerCase()&&t.data.call.callType.toLowerCase()!==o.CALL_TYPE.DIALED_CALLBACK.toLowerCase()){e.next=8;break}return e.abrupt("return");case 8:return fe(),e.next=11,g.getTelephonyConnector();case 11:if(a=e.sent,!y){e.next=19;break}return e.next=15,a.supervisorDisconnect();case 15:n=e.sent,le.validateClassObject(n,de),y=!1,ge(o.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP,n.calls);case 19:return e.next=21,a.acceptCall(t.data.call);case 21:r=e.sent,le.validateClassObject(r,$),ge((_=r.call).callType.toLowerCase()===o.CALL_TYPE.CALLBACK.toLowerCase()?o.VOICE_EVENT_TYPE.CALL_STARTED:o.VOICE_EVENT_TYPE.CALL_CONNECTED,_),e.next=31;break;case 27:e.prev=27,e.t1=e.catch(5),y=!1,e.t1 instanceof H?me(e.t1,o.VOICE_MESSAGE_TYPE.ACCEPT_CALL):He(o.INFO_TYPE.CAN_NOT_ACCEPT_THE_CALL,{messagetype:o.VOICE_MESSAGE_TYPE.ACCEPT_CALL,additionalInfo:e.t1});case 31:return e.abrupt("break",508);case 32:return e.prev=32,e.next=35,g.getTelephonyConnector();case 35:return T=e.sent,e.next=38,T.declineCall(t.data.call);case 38:s=e.sent,le.validateClassObject(s,$),A=s.call,ge(o.VOICE_EVENT_TYPE.HANGUP,A),e.next=47;break;case 44:e.prev=44,e.t2=e.catch(32),e.t2 instanceof H?me(e.t2,o.VOICE_MESSAGE_TYPE.DECLINE_CALL):ye(o.VOICE_ERROR_TYPE.CAN_NOT_DECLINE_THE_CALL,e.t2,o.VOICE_MESSAGE_TYPE.DECLINE_CALL);case 47:return e.abrupt("break",508);case 48:return e.prev=48,e.next=51,g.getTelephonyConnector();case 51:return l=e.sent,e.next=54,l.endCall(t.data.call,t.data.agentStatus);case 54:return N=e.sent,le.validateClassObject(N,z),e.next=58,l.getActiveCalls();case 58:C=e.sent,le.validateClassObject(C,B),O=C.activeCalls,c=N.calls,0===O.length?ge(o.VOICE_EVENT_TYPE.HANGUP,c):ge(o.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED,c.length>0&&c[0]),e.next=68;break;case 65:e.prev=65,e.t3=e.catch(48),e.t3 instanceof H?me(e.t3,o.VOICE_MESSAGE_TYPE.END_CALL):ye(o.VOICE_ERROR_TYPE.CAN_NOT_END_THE_CALL,e.t3,o.VOICE_MESSAGE_TYPE.END_CALL);case 68:return e.abrupt("break",508);case 69:return e.prev=69,e.next=72,g.getTelephonyConnector();case 72:return R=e.sent,e.next=75,R.mute(t.data.call);case 75:S=e.sent,Xe({eventType:o.VOICE_EVENT_TYPE.MUTE_TOGGLE,payload:S}),e.next=82;break;case 79:e.prev=79,e.t4=e.catch(69),e.t4 instanceof H?me(e.t4,o.VOICE_MESSAGE_TYPE.MUTE):ye(o.VOICE_ERROR_TYPE.CAN_NOT_MUTE_CALL,e.t4,o.VOICE_MESSAGE_TYPE.MUTE);case 82:return e.abrupt("break",508);case 83:return e.prev=83,e.next=86,g.getTelephonyConnector();case 86:return I=e.sent,e.next=89,I.unmute(t.data.call);case 89:u=e.sent,Xe({eventType:o.VOICE_EVENT_TYPE.MUTE_TOGGLE,payload:u}),e.next=96;break;case 93:e.prev=93,e.t5=e.catch(83),e.t5 instanceof H?me(e.t5,o.VOICE_MESSAGE_TYPE.UNMUTE):ye(o.VOICE_ERROR_TYPE.CAN_NOT_UNMUTE_CALL,e.t5,o.VOICE_MESSAGE_TYPE.UNMUTE);case 96:return e.abrupt("break",508);case 97:return e.prev=97,e.next=100,g.getTelephonyConnector();case 100:return P=e.sent,e.next=103,P.hold(t.data.call);case 103:d=e.sent,Xe({eventType:o.VOICE_EVENT_TYPE.HOLD_TOGGLE,payload:d}),e.next=120;break;case 107:if(e.prev=107,e.t6=e.catch(97),!(e.t6 instanceof H)){e.next=113;break}me(e.t6,o.VOICE_MESSAGE_TYPE.HOLD),e.next=120;break;case 113:e.t7=Ge(e.t6),e.next=e.t7===o.VOICE_ERROR_TYPE.INVALID_PARTICIPANT?116:118;break;case 116:return ye(o.VOICE_ERROR_TYPE.INVALID_PARTICIPANT,Ye(e.t6),o.VOICE_MESSAGE_TYPE.HOLD),e.abrupt("break",120);case 118:return ye(o.VOICE_ERROR_TYPE.CAN_NOT_HOLD_CALL,Ye(e.t6),o.VOICE_MESSAGE_TYPE.HOLD),e.abrupt("break",120);case 120:return e.abrupt("break",508);case 121:return e.prev=121,e.next=124,g.getTelephonyConnector();case 124:return L=e.sent,e.next=127,L.resume(t.data.call);case 127:D=e.sent,Xe({eventType:o.VOICE_EVENT_TYPE.HOLD_TOGGLE,payload:D}),e.next=144;break;case 131:if(e.prev=131,e.t8=e.catch(121),!(e.t8 instanceof H)){e.next=137;break}me(e.t8,o.VOICE_MESSAGE_TYPE.RESUME),e.next=144;break;case 137:e.t9=Ge(e.t8),e.next=e.t9===o.VOICE_ERROR_TYPE.INVALID_PARTICIPANT?140:142;break;case 140:return ye(o.VOICE_ERROR_TYPE.INVALID_PARTICIPANT,Ye(e.t8),o.VOICE_MESSAGE_TYPE.RESUME),e.abrupt("break",144);case 142:return ye(o.VOICE_ERROR_TYPE.CAN_NOT_RESUME_CALL,Ye(e.t8),o.VOICE_MESSAGE_TYPE.RESUME),e.abrupt("break",144);case 144:return e.abrupt("break",508);case 145:return e.prev=145,h=t.data.statusInfo||{},V=t.data.enqueueNextState||!1,e.next=150,g.setAgentStatus(t.data.agentStatus,h,V);case 150:v=e.sent,le.validateClassObject(v,ae),f=v.success,ge(o.SHARED_EVENT_TYPE.SET_AGENT_STATUS_RESULT,{success:f}),e.next=170;break;case 156:if(e.prev=156,e.t10=e.catch(145),!(e.t10 instanceof H)){e.next=162;break}me(e.t10,o.SHARED_MESSAGE_TYPE.SET_AGENT_STATUS),e.next=170;break;case 162:t.data.statusInfo&&ge(o.SHARED_EVENT_TYPE.SET_AGENT_STATUS_RESULT,{success:!1}),e.t11=Ge(e.t10),e.next=e.t11===o.SHARED_ERROR_TYPE.INVALID_AGENT_STATUS?166:168;break;case 166:return ye(o.SHARED_ERROR_TYPE.INVALID_AGENT_STATUS,Ye(e.t10),o.SHARED_MESSAGE_TYPE.SET_AGENT_STATUS),e.abrupt("break",170);case 168:return ye(o.SHARED_ERROR_TYPE.CAN_NOT_SET_AGENT_STATUS,Ye(e.t10),o.SHARED_MESSAGE_TYPE.SET_AGENT_STATUS),e.abrupt("break",170);case 170:return e.abrupt("break",508);case 171:return e.prev=171,e.next=174,g.getAgentStatus();case 174:G=e.sent,le.validateClassObject(G,Oe),ge(o.SHARED_EVENT_TYPE.GET_AGENT_STATUS_RESULT,G),e.next=182;break;case 179:e.prev=179,e.t12=e.catch(171),e.t12 instanceof H?me(e.t12,o.SHARED_MESSAGE_TYPE.GET_AGENT_STATUS):ye(o.SHARED_ERROR_TYPE.CAN_NOT_GET_AGENT_STATUS,Ye(e.t12),o.SHARED_MESSAGE_TYPE.GET_AGENT_STATUS);case 182:return e.abrupt("break",508);case 183:return e.prev=183,e.next=186,g.getTelephonyConnector();case 186:return b=e.sent,Y=t.data.params&&t.data.params.indexOf(o.DIAL_OPTIONS.CALLBACK)>=0,U=t.data.params&&t.data.params.indexOf(o.DIAL_OPTIONS.CONSULT)>=0,e.next=191,b.dial(new Te(t.data.contact),new Ee({isCallback:Y,isConsultCall:U}));case 191:m=e.sent,le.validateClassObject(m,$),M=m.call,o.CALL_TYPE.DIALED_CALLBACK.toLowerCase()===M.callType.toLowerCase()&&Y?ge(o.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED,M):ge(o.VOICE_EVENT_TYPE.CALL_STARTED,M),e.next=213;break;case 197:if(e.prev=197,e.t13=e.catch(183),ge(o.VOICE_EVENT_TYPE.CALL_FAILED),!(e.t13 instanceof H)){e.next=204;break}me(e.t13,o.VOICE_MESSAGE_TYPE.DIAL),e.next=213;break;case 204:e.t14=Ge(e.t13),e.next=e.t14===o.VOICE_ERROR_TYPE.INVALID_DESTINATION?207:e.t14===o.SHARED_ERROR_TYPE.GENERIC_ERROR?209:211;break;case 207:return ye(o.VOICE_ERROR_TYPE.INVALID_DESTINATION,Ye(e.t13),o.VOICE_MESSAGE_TYPE.DIAL),e.abrupt("break",213);case 209:return ye(o.SHARED_ERROR_TYPE.GENERIC_ERROR,Ye(e.t13),o.VOICE_MESSAGE_TYPE.DIAL),e.abrupt("break",213);case 211:return ye(o.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,Ye(e.t13),o.VOICE_MESSAGE_TYPE.DIAL),e.abrupt("break",213);case 213:return e.abrupt("break",508);case 214:return e.prev=214,e.next=217,g.getTelephonyConnector();case 217:return k=e.sent,e.next=220,k.sendDigits(t.data.digits);case 220:e.next=225;break;case 222:e.prev=222,e.t15=e.catch(214),Ue(o.VOICE_MESSAGE_TYPE.SEND_DIGITS,t.data.digits,!0);case 225:return e.abrupt("break",508);case 226:return e.prev=226,e.next=229,g.getTelephonyConnector();case 229:return w=e.sent,e.next=232,w.getPhoneContacts(t.data.filter);case 232:F=e.sent,le.validateClassObject(F,J),j=F.contacts.map((function(e){return{id:e.id,type:e.type,name:e.name,phoneNumber:e.phoneNumber,prefix:e.prefix,extension:e.extension,endpointARN:e.endpointARN,queue:e.queue,availability:e.availability,queueWaitTime:e.queueWaitTime,recordId:e.recordId,description:e.description}})),ge(o.VOICE_EVENT_TYPE.PHONE_CONTACTS,{contacts:j,contactTypes:F.contactTypes}),e.next=241;break;case 238:e.prev=238,e.t16=e.catch(226),e.t16 instanceof H?me(e.t16,o.VOICE_MESSAGE_TYPE.GET_PHONE_CONTACTS):ye(o.VOICE_ERROR_TYPE.CAN_NOT_GET_PHONE_CONTACTS,e.t16,o.VOICE_MESSAGE_TYPE.GET_PHONE_CONTACTS);case 241:return e.abrupt("break",508);case 242:return e.prev=242,e.next=245,g.getContacts(t.data.filter,t.data.workItemId);case 245:W=e.sent,le.validateClassObject(W,X),K=W.contacts.map((function(e){return{id:e.id,type:e.type,name:e.name,phoneNumber:e.phoneNumber,prefix:e.prefix,extension:e.extension,endpointARN:e.endpointARN,queue:e.queue,availability:e.availability,queueWaitTime:e.queueWaitTime,recordId:e.recordId,description:e.description}})),ge(o.SHARED_EVENT_TYPE.GET_CONTACTS_RESULT,{contacts:K,contactTypes:W.contactTypes}),e.next=254;break;case 251:e.prev=251,e.t17=e.catch(242),me(e.t17,o.SHARED_MESSAGE_TYPE.GET_CONTACTS);case 254:return e.abrupt("break",508);case 255:return e.prev=255,e.next=258,g.getTelephonyConnector();case 258:return q=e.sent,e.next=261,q.swap(t.data.callToHold,t.data.callToResume);case 261:Q=e.sent,Xe({eventType:o.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED,payload:Q}),e.next=268;break;case 265:e.prev=265,e.t18=e.catch(255),e.t18 instanceof H?me(e.t18,o.VOICE_MESSAGE_TYPE.SWAP_PARTICIPANTS):ye(o.VOICE_ERROR_TYPE.CAN_NOT_SWAP_PARTICIPANTS,e.t18,o.VOICE_MESSAGE_TYPE.SWAP_PARTICIPANTS);case 268:return e.abrupt("break",508);case 269:return e.prev=269,e.next=272,g.getTelephonyConnector();case 272:return Z=e.sent,e.next=275,Z.conference(t.data.calls);case 275:te=e.sent,Xe({eventType:o.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED,payload:te}),e.next=282;break;case 279:e.prev=279,e.t19=e.catch(269),e.t19 instanceof H?me(e.t19,o.VOICE_MESSAGE_TYPE.CONFERENCE):ye(o.VOICE_ERROR_TYPE.CAN_NOT_CONFERENCE,e.t19,o.VOICE_MESSAGE_TYPE.CONFERENCE);case 282:return e.abrupt("break",508);case 283:return e.prev=283,e.next=286,g.getTelephonyConnector();case 286:return _e=e.sent,e.next=289,_e.addParticipant(new Te(t.data.contact),t.data.call,t.data.isBlindTransfer);case 289:ie=e.sent,Xe({eventType:o.VOICE_EVENT_TYPE.PARTICIPANT_ADDED,payload:ie}),t.data.isBlindTransfer&&ge(o.VOICE_EVENT_TYPE.HANGUP,t.data.call),e.next=308;break;case 294:if(e.prev=294,e.t20=e.catch(283),ge(o.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED,{reason:o.SHARED_EVENT_TYPE.ERROR.toLowerCase()}),!(e.t20 instanceof H)){e.next=301;break}me(e.t20,o.VOICE_MESSAGE_TYPE.ADD_PARTICIPANT),e.next=308;break;case 301:e.t21=Ge(e.t20),e.next=e.t21===o.VOICE_ERROR_TYPE.INVALID_DESTINATION?304:306;break;case 304:return ye(o.VOICE_ERROR_TYPE.INVALID_DESTINATION,Ye(e.t20),o.VOICE_MESSAGE_TYPE.ADD_PARTICIPANT),e.abrupt("break",308);case 306:return ye(o.VOICE_ERROR_TYPE.CAN_NOT_ADD_PARTICIPANT,Ye(e.t20),o.VOICE_MESSAGE_TYPE.ADD_PARTICIPANT),e.abrupt("break",308);case 308:return e.abrupt("break",508);case 309:return e.prev=309,e.next=312,g.getTelephonyConnector();case 312:return oe=e.sent,e.next=315,oe.pauseRecording(t.data.call);case 315:se=e.sent,Xe({eventType:o.VOICE_EVENT_TYPE.RECORDING_TOGGLE,payload:se}),e.next=322;break;case 319:e.prev=319,e.t22=e.catch(309),e.t22 instanceof H?me(e.t22,o.VOICE_MESSAGE_TYPE.PAUSE_RECORDING):ye(o.VOICE_ERROR_TYPE.CAN_NOT_PAUSE_RECORDING,e.t22,o.VOICE_MESSAGE_TYPE.PAUSE_RECORDING);case 322:return e.abrupt("break",508);case 323:return e.prev=323,e.next=326,g.getTelephonyConnector();case 326:return Ae=e.sent,e.next=329,Ae.resumeRecording(t.data.call);case 329:Ne=e.sent,Xe({eventType:o.VOICE_EVENT_TYPE.RECORDING_TOGGLE,payload:Ne}),e.next=336;break;case 333:e.prev=333,e.t23=e.catch(323),e.t23 instanceof H?me(e.t23,o.VOICE_MESSAGE_TYPE.RESUME_RECORDING):ye(o.VOICE_ERROR_TYPE.CAN_NOT_RESUME_RECORDING,e.t23,o.VOICE_MESSAGE_TYPE.RESUME_RECORDING);case 336:return e.abrupt("break",508);case 337:return e.prev=337,e.next=340,g.logout();case 340:Ce=e.sent,le.validateClassObject(Ce,re),ce=Ce.success,Re=Ce.loginFrameHeight,ge(o.SHARED_EVENT_TYPE.LOGOUT_RESULT,{success:ce,loginFrameHeight:Re}),e.next=349;break;case 346:e.prev=346,e.t24=e.catch(337),e.t24 instanceof H?me(e.t24,o.SHARED_MESSAGE_TYPE.LOGOUT):ye(o.SHARED_ERROR_TYPE.CAN_NOT_LOG_OUT,e.t24,o.SHARED_MESSAGE_TYPE.LOGOUT);case 349:return e.abrupt("break",508);case 350:return g.handleMessage(t.data.message),e.abrupt("break",508);case 352:return e.next=354,g.getTelephonyConnector();case 354:return e.sent.wrapUpCall(t.data.call),e.abrupt("break",508);case 357:if(!t.data||!t.data.isAvailable){e.next=398;break}return e.next=360,g.getTelephonyConnector();case 360:return Se=e.sent,e.next=363,Se.getActiveCalls();case 363:Ie=e.sent,le.validateClassObject(Ie,B),ue=Ie.activeCalls,e.t25=i().keys(ue);case 367:if((e.t26=e.t25()).done){e.next=398;break}if(Le=e.t26.value,pe=ue[Le],De=!pe.callInfo||pe.callInfo.isReplayable,he=pe.callAttributes&&pe.callAttributes.participantType===o.PARTICIPANT_TYPE.SUPERVISOR,Ve=he&&pe.callAttributes&&pe.callAttributes.hasSupervisorBargedIn,!De){e.next=396;break}pe.isReplayedCall=!0,e.t27=pe.state,e.next=e.t27===o.CALL_STATE.CONNECTED?378:e.t27===o.CALL_STATE.RINGING?385:e.t27===o.CALL_STATE.TRANSFERRING?391:e.t27===o.CALL_STATE.TRANSFERRED?393:395;break;case 378:if(!he){e.next=383;break}return y=!0,ge(o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED,pe),Ve&&ge(o.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN,pe),e.abrupt("break",396);case 383:return ge(o.VOICE_EVENT_TYPE.CALL_CONNECTED,pe),e.abrupt("break",396);case 385:if(!he){e.next=389;break}return y=!0,ge(o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED,pe),e.abrupt("break",396);case 389:return ge(o.VOICE_EVENT_TYPE.CALL_STARTED,pe),e.abrupt("break",396);case 391:return ge(o.VOICE_EVENT_TYPE.PARTICIPANT_ADDED,{phoneNumber:pe.contact.phoneNumber,contact:pe.contact,callInfo:pe.callInfo,initialCallHasEnded:pe.callAttributes.initialCallHasEnded,callId:pe.callId}),e.abrupt("break",396);case 393:return ge(o.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED,{phoneNumber:pe.contact.phoneNumber,contact:pe.contact,callInfo:pe.callInfo,initialCallHasEnded:pe.callAttributes.initialCallHasEnded,callId:pe.callId}),e.abrupt("break",396);case 395:return e.abrupt("break",396);case 396:e.next=367;break;case 398:return e.abrupt("break",508);case 399:return e.prev=399,e.next=402,g.getTelephonyConnector();case 402:return ve=e.sent,e.next=405,ve.setAgentConfig(t.data.config);case 405:be=e.sent,le.validateClassObjects(be,ae,ne),be instanceof ne&&be.setIsSystemEvent(!!t.data.config.isSystemEvent),ge(o.VOICE_EVENT_TYPE.AGENT_CONFIG_UPDATED,be),e.next=414;break;case 411:e.prev=411,e.t28=e.catch(399),e.t28 instanceof H?me(e.t28,o.VOICE_MESSAGE_TYPE.SET_AGENT_CONFIG):ye(Ge(e.t28)===o.VOICE_ERROR_TYPE.CAN_NOT_UPDATE_PHONE_NUMBER?o.VOICE_ERROR_TYPE.CAN_NOT_UPDATE_PHONE_NUMBER:o.VOICE_ERROR_TYPE.CAN_NOT_SET_AGENT_CONFIG,Ye(e.t28),o.VOICE_MESSAGE_TYPE.SET_AGENT_CONFIG);case 414:return e.abrupt("break",508);case 415:return e.prev=415,e.next=418,g.getTelephonyConnector();case 418:return Me=e.sent,e.next=421,Me.getAudioDevices();case 421:ke=e.sent,le.validateClassObject(ke,x),ge(o.VOICE_EVENT_TYPE.GET_AUDIO_DEVICES,ke),e.next=429;break;case 426:e.prev=426,e.t29=e.catch(415),ye(o.VOICE_ERROR_TYPE.CAN_NOT_GET_AUDIO_DEVICES,Ye(e.t29),o.VOICE_MESSAGE_TYPE.GET_AUDIO_DEVICES);case 429:return e.abrupt("break",508);case 430:return e.prev=430,we=t.data,Be=we.recordingUrl,xe=we.vendorCallKey,Fe=we.callId,e.next=434,g.getTelephonyConnector();case 434:return je=e.sent,e.next=437,je.getSignedRecordingUrl(Be,xe,Fe);case 437:We=e.sent,le.validateClassObject(We,ee),ge(o.VOICE_EVENT_TYPE.SIGNED_RECORDING_URL,We),e.next=447;break;case 442:e.prev=442,e.t30=e.catch(430),Ke=new ee({success:!1}),ge(o.VOICE_EVENT_TYPE.SIGNED_RECORDING_URL,Ke,!1),Ue(o.VOICE_MESSAGE_TYPE.GET_SIGNED_RECORDING_URL,Ke,!0);case 447:return e.abrupt("break",508);case 448:return g.downloadLogs(JSON.parse(JSON.stringify(p))),e.abrupt("break",508);case 450:return qe=t.data,Qe=qe.logLevel,Je=qe.logMessage,$e=qe.payload,g.logMessageToVendor(Qe,Je,$e),e.abrupt("break",508);case 453:return e.prev=453,y=!0,e.next=457,g.getTelephonyConnector();case 457:return ze=e.sent,e.next=460,ze.superviseCall(t.data.call);case 460:return Ze=e.sent,le.validateClassObject(Ze,Pe),e.next=464,ze.getAgentConfig();case 464:e.sent.selectedPhone.type===o.PHONE_TYPE.SOFT_PHONE?ge(o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED,Ze.call):ge(o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED,Ze.call),e.next=472;break;case 468:e.prev=468,e.t31=e.catch(453),y=!1,e.t31 instanceof H?me(e.t31,o.VOICE_MESSAGE_TYPE.SUPERVISE_CALL):ye(o.VOICE_ERROR_TYPE.CAN_NOT_SUPERVISE_CALL,e.t31,o.VOICE_MESSAGE_TYPE.SUPERVISE_CALL);case 472:return e.abrupt("break",508);case 473:return e.prev=473,e.next=476,g.getTelephonyConnector();case 476:return et=e.sent,e.next=479,et.supervisorDisconnect(t.data.call);case 479:tt=e.sent,le.validateClassObject(tt,de),y=!1,ge(o.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP,tt.calls),e.next=488;break;case 485:e.prev=485,e.t32=e.catch(473),e.t32 instanceof H?me(e.t32,o.VOICE_MESSAGE_TYPE.SUPERVISOR_DISCONNECT):ye(o.VOICE_ERROR_TYPE.CAN_NOT_DISCONNECT_SUPERVISOR,e.t32,o.VOICE_MESSAGE_TYPE.SUPERVISOR_DISCONNECT);case 488:return e.abrupt("break",508);case 489:return e.prev=489,e.next=492,g.getTelephonyConnector();case 492:return Et=e.sent,e.next=495,Et.supervisorBargeIn(t.data.call);case 495:at=e.sent,le.validateClassObject(at,Pe),ge(o.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN,at.call),e.next=503;break;case 500:e.prev=500,e.t33=e.catch(489),e.t33 instanceof H?me(e.t33,o.VOICE_MESSAGE_TYPE.SUPERVISOR_BARGE_IN):ye(o.VOICE_ERROR_TYPE.CAN_NOT_BARGE_IN_SUPERVISOR,e.t33,o.VOICE_MESSAGE_TYPE.SUPERVISOR_BARGE_IN);case 503:return e.abrupt("break",508);case 504:return nt=t.data.agentWork,rt=nt.workItemId,_t=nt.workId,Tt=nt.workEvent,g.onAgentWorkEvent({workItemId:rt,workId:_t,workEvent:Tt}),e.abrupt("break",508);case 507:return e.abrupt("break",508);case 508:case"end":return e.stop()}}),e,null,[[5,27],[32,44],[48,65],[69,79],[83,93],[97,107],[121,131],[145,156],[171,179],[183,197],[214,222],[226,238],[242,251],[255,265],[269,279],[283,294],[309,319],[323,333],[337,346],[399,411],[415,426],[430,442],[453,468],[473,485],[489,500]])})))).apply(this,arguments)}function xe(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=_(i().mark((function e(t){var E,a,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.data.type,e.next=e.t0===o.SHARED_MESSAGE_TYPE.SETUP_CONNECTOR?3:33;break;case 3:if(E=/^https:\/\/[\w-.]+(lightning\.[\w]+\.soma\.force\.com|\.lightning\.force\.com|\.lightning\.pc-rnd\.force\.com|\.stm\.force\.com|\.vf\.force\.com|\.salesforce\.com|\.my\.salesforce-sites\.com|\.lightning\.localhost\.[\w]+\.force.com)$/,a=new URL(t.origin),n=a.protocol+"//"+a.hostname,!E.test(n)){e.next=31;break}return(U=t.ports[0]).onmessage=we,Ue(o.SHARED_MESSAGE_TYPE.SETUP_CONNECTOR,je(t.data.connectorConfig),!1),e.prev=10,e.next=13,g.init(t.data.connectorConfig);case 13:r=e.sent,le.validateClassObject(r,te),r.showStorageAccess?ge(o.SHARED_EVENT_TYPE.SHOW_STORAGE_ACCESS,{success:!0}):r.showLogin?ge(o.SHARED_EVENT_TYPE.SHOW_LOGIN,{loginFrameHeight:r.loginFrameHeight}):r.isSilentLogin?ge(o.SHARED_EVENT_TYPE.SHOW_LOGIN,{isSilentLogin:r.isSilentLogin}):Me(),e.next=31;break;case 18:if(e.prev=18,e.t1=e.catch(10),!(e.t1 instanceof H)){e.next=24;break}me(e.t1,o.SHARED_MESSAGE_TYPE.SETUP_CONNECTOR),e.next=31;break;case 24:e.t2=Ge(e.t1),e.next=e.t2===o.VOICE_ERROR_TYPE.INVALID_PARAMS?27:29;break;case 27:return ye(o.VOICE_ERROR_TYPE.INVALID_PARAMS,Ye(e.t1),o.SHARED_MESSAGE_TYPE.SETUP_CONNECTOR),e.abrupt("break",31);case 29:return ye(o.SHARED_ERROR_TYPE.CAN_NOT_LOG_IN,Ye(e.t1),o.SHARED_MESSAGE_TYPE.SETUP_CONNECTOR),e.abrupt("break",31);case 31:return window.removeEventListener("message",xe),e.abrupt("break",34);case 33:return e.abrupt("break",34);case 34:case"end":return e.stop()}}),e,null,[[10,18]])})))).apply(this,arguments)}function je(e){e=e||{};var t={};return s.forEach((function(E){e.hasOwnProperty(E)&&(t[E]=e[E])})),A.forEach((function(E){Object.keys(e).forEach((function(a){a.startsWith(E)&&!l.includes(a)&&(t[a]=e[a])}))})),t}function We(e,t,E,a){try{return le.validateClassObject(e,t),!0}catch(e){return E&&ye(E,e,a),!1}}function Ke(e){g=e,window.addEventListener("message",xe)}function qe(e){Ue(e.eventType,e.payload,e.isError)}function Qe(e){var t=e.eventType,E=e.error;if(E instanceof H)me(E,t);else switch(t){case o.SHARED_EVENT_TYPE.LOGIN_RESULT:ye(o.SHARED_ERROR_TYPE.CAN_NOT_LOG_IN,E,o.SHARED_EVENT_TYPE.LOGIN_RESULT);break;case o.SHARED_EVENT_TYPE.LOGOUT_RESULT:ye(o.SHARED_ERROR_TYPE.CAN_NOT_LOG_OUT,E,o.SHARED_EVENT_TYPE.LOGOUT_RESULT);break;case o.VOICE_EVENT_TYPE.CALL_STARTED:ye(o.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,E,o.VOICE_EVENT_TYPE.CALL_STARTED);break;case o.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED:ye(o.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,E,o.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED);break;case o.VOICE_EVENT_TYPE.CALL_CONNECTED:ye(o.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,E,o.VOICE_EVENT_TYPE.CALL_CONNECTED);break;case o.VOICE_EVENT_TYPE.HANGUP:ye(o.VOICE_ERROR_TYPE.CAN_NOT_END_THE_CALL,E,o.VOICE_EVENT_TYPE.HANGUP);break;case o.VOICE_EVENT_TYPE.PARTICIPANT_ADDED:ye(Ge(E)===o.VOICE_ERROR_TYPE.INVALID_PARTICIPANT?o.VOICE_ERROR_TYPE.INVALID_PARTICIPANT:o.VOICE_ERROR_TYPE.CAN_NOT_ADD_PARTICIPANT,E,o.VOICE_EVENT_TYPE.PARTICIPANT_ADDED);break;case o.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED:ye(o.VOICE_ERROR_TYPE.CAN_NOT_CONNECT_PARTICIPANT,E,o.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED);break;case o.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED:ye(o.VOICE_ERROR_TYPE.CAN_NOT_HANGUP_PARTICIPANT,E,o.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED);break;case o.VOICE_EVENT_TYPE.MUTE_TOGGLE:ye(o.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_MUTE,E,o.VOICE_EVENT_TYPE.MUTE_TOGGLE);break;case o.VOICE_EVENT_TYPE.HOLD_TOGGLE:ye(Ge(E)===o.VOICE_ERROR_TYPE.INVALID_PARTICIPANT?o.VOICE_ERROR_TYPE.INVALID_PARTICIPANT:o.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_HOLD,E,o.VOICE_EVENT_TYPE.HOLD_TOGGLE);break;case o.VOICE_EVENT_TYPE.RECORDING_TOGGLE:ye(o.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_RECORD,E,o.VOICE_EVENT_TYPE.RECORDING_TOGGLE);break;case o.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED:ye(o.VOICE_ERROR_TYPE.CAN_NOT_SWAP_PARTICIPANTS,E,o.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED);break;case o.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED:ye(o.VOICE_ERROR_TYPE.CAN_NOT_CONFERENCE,E,o.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED);break;case o.VOICE_EVENT_TYPE.AGENT_ERROR:ye(o.VOICE_ERROR_TYPE.AGENT_ERROR,E,o.VOICE_EVENT_TYPE.AGENT_ERROR);break;case o.VOICE_EVENT_TYPE.SOFTPHONE_ERROR:switch(Ge(E)){case o.VOICE_ERROR_TYPE.UNSUPPORTED_BROWSER:ye(o.VOICE_ERROR_TYPE.UNSUPPORTED_BROWSER,E,o.VOICE_EVENT_TYPE.SOFTPHONE_ERROR);break;case o.VOICE_ERROR_TYPE.MICROPHONE_NOT_SHARED:ye(o.VOICE_ERROR_TYPE.MICROPHONE_NOT_SHARED,E,o.VOICE_EVENT_TYPE.SOFTPHONE_ERROR);break;default:ye(o.SHARED_ERROR_TYPE.GENERIC_ERROR,E,o.VOICE_EVENT_TYPE.SOFTPHONE_ERROR)}break;case o.VOICE_EVENT_TYPE.CALL_UPDATED:ye(o.VOICE_ERROR_TYPE.CAN_NOT_UPDATE_CALL,E,o.VOICE_EVENT_TYPE.CALL_UPDATED);break;default:console.error("Unhandled error scenario with arguments ",arguments)}}function Xe(e){return Je.apply(this,arguments)}function Je(){return(Je=_(i().mark((function e(t){var E,a,n,r,_,T,s,A,l,N,C,O,c,R,S,I,u,P,d,L,p,D,h,V,v,f,G,b,U,m,H,M,k,x,F,j,W,K,X;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E=t.eventType,a=t.payload,n=t.registerLog,r=void 0===n||n,e.t0=E,e.next=e.t0===o.SHARED_EVENT_TYPE.LOGIN_RESULT?4:e.t0===o.SHARED_EVENT_TYPE.LOGOUT_RESULT?6:e.t0===o.VOICE_EVENT_TYPE.CALL_STARTED?8:e.t0===o.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED?10:e.t0===o.VOICE_EVENT_TYPE.CALL_CONNECTED?12:e.t0===o.VOICE_EVENT_TYPE.HANGUP?28:e.t0===o.VOICE_EVENT_TYPE.PARTICIPANT_ADDED?30:e.t0===o.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED?32:e.t0===o.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED?34:e.t0===o.SHARED_EVENT_TYPE.MESSAGE?44:e.t0===o.VOICE_EVENT_TYPE.AFTER_CALL_WORK_STARTED?46:e.t0===o.VOICE_EVENT_TYPE.WRAP_UP_ENDED?48:e.t0===o.SHARED_EVENT_TYPE.REMOTE_CONTROLLER?50:e.t0===o.VOICE_EVENT_TYPE.MUTE_TOGGLE?52:e.t0===o.VOICE_EVENT_TYPE.HOLD_TOGGLE?54:e.t0===o.VOICE_EVENT_TYPE.RECORDING_TOGGLE?57:e.t0===o.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED?60:e.t0===o.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED?62:e.t0===o.VOICE_EVENT_TYPE.CALL_UPDATED?64:e.t0===o.VOICE_EVENT_TYPE.UPDATE_AUDIO_STATS?66:e.t0===o.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN?68:e.t0===o.VOICE_EVENT_TYPE.CALL_BARGED_IN?70:e.t0===o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED?72:e.t0===o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED?74:e.t0===o.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP?76:e.t0===o.SHARED_EVENT_TYPE.SET_AGENT_STATUS?78:e.t0===o.VOICE_EVENT_TYPE.SHOW_TRANSFER_VIEW?80:e.t0===o.SHARED_EVENT_TYPE.STORAGE_ACCESS_RESULT?82:e.t0===o.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_STARTED?84:e.t0===o.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_ENDED?86:e.t0===o.SHARED_EVENT_TYPE.GET_AGENT_STATUS?88:e.t0===o.SHARED_EVENT_TYPE.STATE_CHANGE?90:92;break;case 4:return We(a,ae,o.SHARED_ERROR_TYPE.CAN_NOT_LOG_IN,o.SHARED_EVENT_TYPE.LOGIN_RESULT)&&(ge(o.SHARED_EVENT_TYPE.LOGIN_RESULT,a,r),a.success&&Me()),e.abrupt("break",92);case 6:return We(a,re,o.SHARED_ERROR_TYPE.CAN_NOT_LOG_OUT,o.SHARED_EVENT_TYPE.LOGOUT_RESULT)&&ge(o.SHARED_EVENT_TYPE.LOGOUT_RESULT,{success:a.success,loginFrameHeight:a.loginFrameHeight},r),e.abrupt("break",92);case 8:return We(a,$,o.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,o.VOICE_EVENT_TYPE.CALL_STARTED)&&ge(o.VOICE_EVENT_TYPE.CALL_STARTED,a.call,!0),e.abrupt("break",92);case 10:return We(a,$,o.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,o.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED)&&ge(o.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED,a.call,!0),e.abrupt("break",92);case 12:if(!We(a,$,o.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,o.VOICE_EVENT_TYPE.CALL_CONNECTED)){e.next=27;break}if(fe(),!y){e.next=26;break}return e.next=17,g.getTelephonyConnector();case 17:return _=e.sent,e.next=20,_.supervisorDisconnect();case 20:return T=e.sent,le.validateClassObject(T,de),y=!1,ge(o.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP,T,!0),ge(o.VOICE_EVENT_TYPE.CALL_CONNECTED,a.call,!0),e.abrupt("break",92);case 26:ge(o.VOICE_EVENT_TYPE.CALL_CONNECTED,a.call,!0);case 27:return e.abrupt("break",92);case 28:return We(a,z,o.VOICE_ERROR_TYPE.CAN_NOT_END_THE_CALL,o.VOICE_EVENT_TYPE.HANGUP)&&ge(o.VOICE_EVENT_TYPE.HANGUP,a.calls,!0),e.abrupt("break",92);case 30:return We(a,Q,o.VOICE_ERROR_TYPE.CAN_NOT_ADD_PARTICIPANT,o.VOICE_EVENT_TYPE.PARTICIPANT_ADDED)&&(s=a.contact,A=a.initialCallHasEnded,l=a.callInfo,N=a.callAttributes,C=a.phoneNumber,O=a.callId,ge(o.VOICE_EVENT_TYPE.PARTICIPANT_ADDED,{contact:s,initialCallHasEnded:A,callInfo:l,callAttributes:N,phoneNumber:C,callId:O},!0)),e.abrupt("break",92);case 32:return We(a,Q,o.VOICE_ERROR_TYPE.CAN_NOT_CONNECT_PARTICIPANT,o.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED)&&(c=a.initialCallHasEnded,R=a.callInfo,S=a.callAttributes,I=a.phoneNumber,u=a.callId,P=a.contact,ge(o.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED,{initialCallHasEnded:c,callInfo:R,callAttributes:S,phoneNumber:I,callId:u,contact:P},!0)),e.abrupt("break",92);case 34:if(!We(a,$,o.VOICE_ERROR_TYPE.CAN_NOT_HANGUP_PARTICIPANT,o.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED)){e.next=43;break}return d=a.call,e.next=38,g.getTelephonyConnector();case 38:return L=e.sent,e.next=41,L.getActiveCalls();case 41:We(p=e.sent,B)&&(0===(D=p.activeCalls).length?ge(o.VOICE_EVENT_TYPE.HANGUP,d,!0):d&&d.callAttributes&&d.callAttributes.participantType===o.PARTICIPANT_TYPE.INITIAL_CALLER?ge(Object.values(D).filter((function(e){return e.callType===o.CALL_TYPE.ADD_PARTICIPANT})).pop().state===o.CALL_STATE.TRANSFERRING?o.VOICE_EVENT_TYPE.PARTICIPANT_ADDED:o.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED,{initialCallHasEnded:!0},!0):ge(o.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED,{callId:d?d.callId:null,reason:d?d.reason:null},!0));case 43:return e.abrupt("break",92);case 44:return ge(o.SHARED_EVENT_TYPE.MESSAGE,a,r),e.abrupt("break",92);case 46:return ge(o.VOICE_EVENT_TYPE.AFTER_CALL_WORK_STARTED,a,r),e.abrupt("break",92);case 48:return ge(o.VOICE_EVENT_TYPE.WRAP_UP_ENDED,a,r),e.abrupt("break",92);case 50:return we(a),e.abrupt("break",92);case 52:return We(a,w,o.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_MUTE,o.VOICE_EVENT_TYPE.MUTE_TOGGLE)&&ge(o.VOICE_EVENT_TYPE.MUTE_TOGGLE,a,r),e.abrupt("break",92);case 54:return h=a.isThirdPartyOnHold,V=a.isCustomerOnHold,v=a.calls,We(a,Z,o.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_HOLD,o.VOICE_EVENT_TYPE.HOLD_TOGGLE)&&ge(o.VOICE_EVENT_TYPE.HOLD_TOGGLE,{isThirdPartyOnHold:h,isCustomerOnHold:V,calls:v},r),e.abrupt("break",92);case 57:return f=a.isRecordingPaused,G=a.contactId,b=a.initialContactId,U=a.instanceId,m=a.region,We(a,q,o.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_RECORD,o.VOICE_EVENT_TYPE.RECORDING_TOGGLE)&&ge(o.VOICE_EVENT_TYPE.RECORDING_TOGGLE,{isRecordingPaused:f,contactId:G,initialContactId:b,instanceId:U,region:m},r),e.abrupt("break",92);case 60:return We(a,Z,o.VOICE_ERROR_TYPE.CAN_NOT_SWAP_PARTICIPANTS,o.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED)&&(H=a.isThirdPartyOnHold,M=a.isCustomerOnHold,k=a.calls,ge(o.VOICE_EVENT_TYPE.HOLD_TOGGLE,{isThirdPartyOnHold:H,isCustomerOnHold:M,calls:k},!0)),e.abrupt("break",92);case 62:return We(a,Z,o.VOICE_ERROR_TYPE.CAN_NOT_CONFERENCE,o.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED)&&(x=a.isThirdPartyOnHold,F=a.isCustomerOnHold,ge(o.VOICE_EVENT_TYPE.HOLD_TOGGLE,{isThirdPartyOnHold:x,isCustomerOnHold:F},!0)),e.abrupt("break",92);case 64:return We(a,$,o.VOICE_ERROR_TYPE.CAN_NOT_UPDATE_CALL,o.VOICE_EVENT_TYPE.CALL_UPDATED)&&ge(o.VOICE_EVENT_TYPE.CALL_UPDATED,a,r),e.abrupt("break",92);case 66:return We(a,Se)&&(a.stats&&(i=a.stats,Y&&i.forEach((function(e){e.inputChannelStats&&(Y.inputChannelStats.statsCount++,Y.inputChannelStats.packetsCount+=0|e.inputChannelStats.packetsCount,Y.inputChannelStats.packetsLost+=0|e.inputChannelStats.packetsLost,Y.inputChannelStats.jitterBufferMillis+=0|e.inputChannelStats.jitterBufferMillis,Y.inputChannelStats.roundTripTimeMillis+=0|e.inputChannelStats.roundTripTimeMillis),e.outputChannelStats&&(Y.outputChannelStats.statsCount++,Y.outputChannelStats.packetsCount+=0|e.outputChannelStats.packetsCount,Y.outputChannelStats.packetsLost+=0|e.outputChannelStats.packetsLost,Y.outputChannelStats.jitterBufferMillis+=0|e.outputChannelStats.jitterBufferMillis,Y.outputChannelStats.roundTripTimeMillis+=0|e.outputChannelStats.roundTripTimeMillis)})),j=a.callId?{stats:a.stats,callId:a.callId}:{stats:a.stats},ge(o.VOICE_EVENT_TYPE.AUDIO_STATS,{audioStats:j},r)),a.isAudioStatsCompleted&&a.callId&&(W=a.callId,K=ve(),ge(o.VOICE_EVENT_TYPE.UPDATE_AUDIO_STATS_COMPLETED,{callId:W,mos:K},r))),e.abrupt("break",92);case 68:return We(a,Pe,o.VOICE_ERROR_TYPE.CAN_NOT_BARGE_IN_SUPERVISOR,o.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN)&&ge(o.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN,a.call,!0),e.abrupt("break",92);case 70:return We(a,Re,o.SHARED_ERROR_TYPE.GENERIC_ERROR,o.VOICE_EVENT_TYPE.CALL_BARGED_IN)&&ge(o.VOICE_EVENT_TYPE.CALL_BARGED_IN,a,!0),e.abrupt("break",92);case 72:return We(a,Pe,o.VOICE_ERROR_TYPE.CAN_NOT_SUPERVISE_CALL,o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED)&&(y=!0,ge(o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED,a.call,!0)),e.abrupt("break",92);case 74:return We(a,Pe,o.VOICE_ERROR_TYPE.CAN_NOT_SUPERVISE_CALL,o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED)&&(y=!0,ge(o.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED,a.call,!0)),e.abrupt("break",92);case 76:return We(a,de,o.VOICE_ERROR_TYPE.CAN_NOT_DISCONNECT_SUPERVISOR,o.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP)&&(y=!1,ge(o.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP,a.calls,!0)),e.abrupt("break",92);case 78:return We(a,Ce,o.SHARED_ERROR_TYPE.CAN_NOT_SET_AGENT_STATUS,o.SHARED_EVENT_TYPE.SET_AGENT_STATUS)&&(X=a.statusId,ge(o.SHARED_EVENT_TYPE.SET_AGENT_STATUS,{statusId:X},r)),e.abrupt("break",92);case 80:return ge(o.VOICE_EVENT_TYPE.SHOW_TRANSFER_VIEW,a),e.abrupt("break",92);case 82:return We(a,Le,o.SHARED_ERROR_TYPE.INVALID_STORAGE_ACCESS_RESULT,o.SHARED_EVENT_TYPE.STORAGE_ACCESS_RESULT)&&(ge(o.SHARED_EVENT_TYPE.STORAGE_ACCESS_RESULT,a),a.success&&(a.showLogin?ge(o.SHARED_EVENT_TYPE.SHOW_LOGIN,{loginFrameHeight:a.loginFrameHeight},r):Me())),e.abrupt("break",92);case 84:return We(a,De,o.SHARED_ERROR_TYPE.INVALID_ACW_INFO,o.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_STARTED)&&ge(o.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_STARTED,a,r),e.abrupt("break",92);case 86:return We(a,De,o.SHARED_ERROR_TYPE.INVALID_ACW_INFO,o.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_ENDED)&&ge(o.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_ENDED,a,r),e.abrupt("break",92);case 88:return We(a,Oe,o.SHARED_ERROR_TYPE.CAN_NOT_GET_AGENT_STATUS,o.SHARED_EVENT_TYPE.GET_AGENT_STATUS)&&ge(o.SHARED_EVENT_TYPE.GET_AGENT_STATUS,a,r),e.abrupt("break",92);case 90:return We(a,ce,o.SHARED_ERROR_TYPE.INVALID_STATE_CHANGE_RESULT,o.SHARED_EVENT_TYPE.STATE_CHANGE)&&ge(o.SHARED_EVENT_TYPE.STATE_CHANGE,a),e.abrupt("break",92);case 92:case"end":return e.stop()}var i}),e)})))).apply(this,arguments)}})(),a})()));
//# sourceMappingURL=scv-connector-base.js.map